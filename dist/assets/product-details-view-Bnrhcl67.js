import{j as s,F as j,w as m,T as u,ae as I,$ as y,Q as p,I as d,E as v,U as w,af as k,ag as S,a as T,aG as g,X as b}from"./index-CWahQ5ZS.js";import{S as a,E as P}from"./empty-content-CIXLGBzD.js";import{G as c}from"./Grid2-B_6LUZZb.js";import{f as C}from"./format-number-jQTf3B9V.js";import{M as E}from"./MenuItem-DtpA0HbG.js";import{I as D}from"./image-Ds2WO9mA.js";import{u as L,C as G,L as B}from"./use-light-box-Bm7UNEMO.js";import{u as M,C as A,a as R,b as F}from"./carousel-progress-bar-Ce_2a-tY.js";function Q({...e}){return s.jsxs(c,{container:!0,spacing:8,...e,children:[s.jsx(c,{xs:12,md:6,lg:7,children:s.jsx(a,{sx:{pt:"100%"}})}),s.jsx(c,{xs:12,md:6,lg:5,children:s.jsxs(j,{spacing:3,children:[s.jsx(a,{sx:{height:16,width:48}}),s.jsx(a,{sx:{height:16,width:80}}),s.jsx(a,{sx:{height:16,width:.5}}),s.jsx(a,{sx:{height:16,width:.75}}),s.jsx(a,{sx:{height:120}})]})}),s.jsx(c,{xs:12,children:s.jsx(j,{direction:"row",alignItems:"center",children:[...Array(3)].map((n,o)=>s.jsxs(j,{spacing:2,alignItems:"center",justifyContent:"center",sx:{width:1},children:[s.jsx(a,{variant:"circular",sx:{width:80,height:80}}),s.jsx(a,{sx:{height:16,width:160}}),s.jsx(a,{sx:{height:16,width:80}})]},o))})})]})}function _({product:e}){const{slug:n,title:o,content:r,category:l,price:t,salePercent:i}=e,f=s.jsx(u,{variant:"body2",sx:{color:"text.secondary"},children:s.jsx("div",{dangerouslySetInnerHTML:{__html:r}})}),x=s.jsx(m,{component:"span",sx:{typography:"overline",color:"success.main"},children:l.name});return s.jsx(j,{spacing:3,sx:{pt:3},children:s.jsxs(j,{spacing:2,alignItems:"flex-start",children:[x,s.jsx(u,{variant:"h6",children:n}),s.jsxs(m,{sx:{position:"relative",typography:"h5"},children:[i!==0&&s.jsxs(u,{component:"span",sx:{color:"red",position:"absolute",top:"-10px",right:"0px",fontSize:"0.75em"},children:["-",i,"%"]}),i!==0&&s.jsx(m,{component:"span",sx:{color:"text.disabled",textDecoration:"line-through",mr:.5},children:C(t)}),s.jsx(m,{component:"span",sx:{mr:.5},children:C(Number(t)*((100-i)/100))})]}),s.jsx(u,{variant:"h5",children:o}),f]})})}function z({publish:e,backLink:n,editLink:o,liveLink:r,publishOptions:l,onChangePublish:t,sx:i,...f}){const x=I();return s.jsxs(s.Fragment,{children:[s.jsxs(j,{spacing:1.5,direction:"row",sx:{mb:{xs:3,md:5},...i},...f,children:[s.jsx(y,{component:p,href:n,startIcon:s.jsx(d,{icon:"eva:arrow-ios-back-fill",width:16}),children:"Quay lại"}),s.jsx(m,{sx:{flexGrow:1}}),e==="published"&&r!==void 0&&s.jsx(v,{title:"Go Live",children:s.jsx(w,{component:p,href:r,children:s.jsx(d,{icon:"eva:external-link-fill"})})}),s.jsx(v,{title:"Edit",children:s.jsx(w,{component:p,href:o,children:s.jsx(d,{icon:"solar:pen-bold"})})})]}),s.jsx(k,{open:x.open,anchorEl:x.anchorEl,onClose:x.onClose,slotProps:{arrow:{placement:"top-right"}},children:s.jsx(S,{children:l==null?void 0:l.map(h=>s.jsxs(E,{selected:h.value===e,onClick:()=>{x.onClose(),t!==void 0&&t(h.value)},children:[h.value==="published"&&s.jsx(d,{icon:"eva:cloud-upload-fill"}),h.value==="draft"&&s.jsx(d,{icon:"solar:file-text-bold"}),h.label]},h.value))})})]})}function N({images:e}){var l;const n=M({thumbs:{slidesToShow:"auto"}}),o=(e==null?void 0:e.map(t=>({src:t})))||[],r=L(o);return T.useEffect(()=>{var t;r.open&&((t=n.mainApi)==null||t.scrollTo(r.selected,!0))},[n.mainApi,r.open,r.selected]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsxs(m,{sx:{mb:2.5,position:"relative"},children:[s.jsx(G,{...n.arrows,options:n.options,totalSlides:n.dots.dotCount,selectedIndex:n.dots.selectedIndex+1,sx:{right:16,bottom:16,position:"absolute"}}),s.jsx(A,{carousel:n,sx:{borderRadius:2},children:o.map(t=>s.jsx(D,{alt:t.src,src:t.src,ratio:"1/1",onClick:()=>r.onOpen(t.src),sx:{cursor:"zoom-in",minWidth:320}},t.src))})]}),s.jsx(R,{ref:n.thumbs.thumbsRef,options:(l=n.options)==null?void 0:l.thumbs,slotProps:{disableMask:!0},sx:{width:360},children:o.map((t,i)=>s.jsx(F,{index:i,src:t.src,selected:i===n.thumbs.selectedIndex,onClick:()=>n.thumbs.onClickThumb(i)},t.src))})]}),s.jsx(B,{index:r.selected,slides:o,open:r.open,close:r.onClose,onGetCurrentIndex:t=>r.setSelected(t)})]})}function K({product:e,error:n,loading:o}){return o?s.jsx(g,{sx:{pt:5},children:s.jsx(Q,{})}):n?s.jsx(g,{sx:{pt:5},children:s.jsx(P,{filled:!0,title:"Sản phẩm không tồn tại!",action:s.jsx(y,{component:p,href:b.dashboard.product.root,startIcon:s.jsx(d,{width:16,icon:"eva:arrow-ios-back-fill"}),sx:{mt:3},children:"Quay lại"}),sx:{py:10,height:"auto",flexGrow:"unset"}})}):s.jsxs(g,{children:[s.jsx(z,{backLink:b.dashboard.product.root,editLink:b.dashboard.product.edit(`${e==null?void 0:e.slug}`)}),s.jsxs(c,{container:!0,spacing:{xs:3,md:5,lg:8},children:[s.jsx(c,{xs:12,md:6,lg:7,children:s.jsx(N,{images:e!=null&&e.thumbnail?[e.thumbnail,...e.images]:(e==null?void 0:e.images)??[]})}),s.jsx(c,{xs:12,md:6,lg:5,children:e&&s.jsx(_,{product:e})})]})]})}export{K as P};
