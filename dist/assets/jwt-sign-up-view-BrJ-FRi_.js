import{n as f,o as v,r as I,p as S,s as M,j as e,h as n,q as k,t as L,I as P,A as T,T as p,v as q,w as C}from"./index-u4c5uTy0.js";import{z as r,u as E,F as t,a as F,t as N}from"./form-provider-Bg5v_u9U.js";import"./image-I9HL7nG0.js";import"./editor-Dm0D5q3G.js";import{L as u}from"./Link-BJNZ9OZB.js";import{I as A}from"./InputAdornment-e-Ol_iUA.js";import{L as B}from"./LoadingButton-B1VX3ihL.js";const V=r.object({email:r.string().min(1,{message:"Bạn chưa nhập email!"}).email({message:"Email không hợp lệ!"}),password:r.string().min(1,{message:"Bạn chưa nhập mật khẩu!"}).min(6,{message:"Mật khẩu ít nhất 6 kí tự!"})});function D(){const i=f(),{checkUserSession:o}=v(),[a,m]=I.useState(""),l=S(),g={email:"admin@gmail.com",password:"123456"},c=E({resolver:N(V),defaultValues:g}),{handleSubmit:x,formState:{isSubmitting:j}}=c,b=x(async d=>{try{await M({email:d.email,password:d.password}),await(o==null?void 0:o()),i.refresh()}catch(s){console.error(s),m(s instanceof Error?s.message:s)}}),w=e.jsx(n,{spacing:1.5,sx:{mb:5},children:e.jsx(p,{variant:"h5",children:"Đăng nhập bằng tài khoản"})}),y=e.jsxs(n,{spacing:3,children:[e.jsx(t.Text,{name:"email",label:"Email",InputLabelProps:{shrink:!0}}),e.jsxs(n,{spacing:1.5,children:[e.jsx(u,{component:k,href:"#",variant:"body2",color:"inherit",sx:{alignSelf:"flex-end"},children:"Quên mật khẩu?"}),e.jsx(t.Text,{name:"password",label:"Mật khẩu",placeholder:"6+ characters",type:l.value?"text":"password",InputLabelProps:{shrink:!0},InputProps:{endAdornment:e.jsx(A,{position:"end",children:e.jsx(L,{onClick:l.onToggle,edge:"end",children:e.jsx(P,{icon:l.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}})]}),e.jsx(B,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:j,loadingIndicator:"Đang đăng nhập...",children:"Đăng nhập"})]});return e.jsxs(e.Fragment,{children:[w,!!a&&e.jsx(T,{severity:"error",sx:{mb:3},children:a}),e.jsx(F,{methods:c,onSubmit:b,children:y})]})}const z=r.object({firstName:r.string().min(1,{message:"First name is required!"}),lastName:r.string().min(1,{message:"Last name is required!"}),email:r.string().min(1,{message:"Email is required!"}).email({message:"Email must be a valid email address!"}),password:r.string().min(1,{message:"Password is required!"}).min(6,{message:"Password must be at least 6 characters!"})});function K(){const{checkUserSession:i}=v(),o=f(),a=S(),[m,l]=I.useState(""),g={firstName:"Hello",lastName:"Friend",email:"hello@gmail.com",password:"@demo1"},c=E({resolver:N(z),defaultValues:g}),{handleSubmit:x,formState:{isSubmitting:j}}=c,b=x(async s=>{try{await q({email:s.email,password:s.password,firstName:s.firstName,lastName:s.lastName}),await(i==null?void 0:i()),o.refresh()}catch(h){console.error(h),l(h instanceof Error?h.message:h)}}),w=e.jsxs(n,{spacing:1.5,sx:{mb:5},children:[e.jsx(p,{variant:"h5",children:"Get started absolutely free"}),e.jsxs(n,{direction:"row",spacing:.5,children:[e.jsx(p,{variant:"body2",sx:{color:"text.secondary"},children:"Already have an account?"}),e.jsx(u,{component:k,href:C.auth.jwt.signIn,variant:"subtitle2",children:"Sign in"})]})]}),y=e.jsxs(n,{spacing:3,children:[e.jsxs(n,{direction:{xs:"column",sm:"row"},spacing:2,children:[e.jsx(t.Text,{name:"firstName",label:"First name",InputLabelProps:{shrink:!0}}),e.jsx(t.Text,{name:"lastName",label:"Last name",InputLabelProps:{shrink:!0}})]}),e.jsx(t.Text,{name:"email",label:"Email address",InputLabelProps:{shrink:!0}}),e.jsx(t.Text,{name:"password",label:"Password",placeholder:"6+ characters",type:a.value?"text":"password",InputLabelProps:{shrink:!0},InputProps:{endAdornment:e.jsx(A,{position:"end",children:e.jsx(L,{onClick:a.onToggle,edge:"end",children:e.jsx(P,{icon:a.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(B,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:j,loadingIndicator:"Create account...",children:"Create account"})]}),d=e.jsxs(p,{component:"div",sx:{mt:3,textAlign:"center",typography:"caption",color:"text.secondary"},children:["By signing up, I agree to ",e.jsx(u,{underline:"always",color:"text.primary",children:"Terms of service"})," and ",e.jsx(u,{underline:"always",color:"text.primary",children:"Privacy policy"}),"."]});return e.jsxs(e.Fragment,{children:[w,!!m&&e.jsx(T,{severity:"error",sx:{mb:3},children:m}),e.jsx(F,{methods:c,onSubmit:b,children:y}),d]})}export{D as J,K as a};
