import{aX as _,j as e,t as O,I as x,h as f,d8 as K,q as W,w as g,dl as U,ap as q,B as b,T as j,cw as A,aZ as M,n as V,r as d,ad as P,a$ as D,au as z,eE as Y,eF as X,f as Q,cx as L,b3 as S,cy as Z,cz as ee,p as te,dK as B,eP as J,ey as se,eU as oe,eQ as ne,eR as le,eV as re,cY as ae,eG as I,H as ie,l as ce}from"./index-u4c5uTy0.js";import{E as de}from"./empty-content-CuZPPhHf.js";import{C as pe}from"./custom-breadcrumbs-IydSAGRK.js";import{a as me}from"./format-number-big90whk.js";import{C as xe}from"./Card-Ro7Utuy1.js";import{L as he}from"./ListItemText-DI6-3wIs.js";import{L as ue}from"./Link-BJNZ9OZB.js";import{M as v}from"./MenuItem-CQqSdt0g.js";import{P as ye,p as be}from"./Pagination-D0VMOniO.js";import{S as je}from"./search-not-found-B6Ka3ota.js";import{I as fe}from"./InputAdornment-e-Ol_iUA.js";import{C as ge}from"./country-select-HxnRLHf8.js";import{F as R}from"./FormControlLabel-ClSICk_D.js";import{C as N}from"./Checkbox-BP7c1We-.js";import{a as Ce}from"./RadioGroup-e83ZoFyH.js";import{F as Se,a as E,c as T}from"./filters-result-ChRF1hn_.js";import"./job-new-edit-form-B13nwvl6.js";import"./label-CW2e8lfB.js";import"./html-to-markdown-BZygC5Mi.js";import"./image-I9HL7nG0.js";import"./listItemTextClasses-BH_LSGUS.js";import"./LastPage-Dmj1gKFF.js";import"./countries-DSLisFCy.js";import"./FormGroup-DIodW3BI.js";import"./form-provider-Bg5v_u9U.js";import"./Rating-BhsJb_dJ.js";import"./visuallyHidden-Dan1xhjv.js";import"./editor-Dm0D5q3G.js";import"./index-DQGwjOSW.js";import"./Slider-C0weDHva.js";import"./index-CcA_k5fi.js";import"./upload-B07M1XN9.js";import"./preview-multi-file-D7tdaa3h.js";import"./file-thumbnail-4Aiz5ZOI.js";import"./upload-box-DLJzHV-X.js";import"./upload-avatar-Ds7bpIeR.js";import"./DatePicker-Dt-kgJxG.js";import"./DialogActions-CqCNwb2o.js";import"./ListItem-sdN4-Rey.js";import"./listItemButtonClasses-BTeIgqK3.js";import"./dialogTitleClasses-Cq2WiJNn.js";import"./DialogContent-BARz1C5J.js";import"./MobileDateTimePicker-BsICTee_.js";import"./Tabs-Cnx4LrgW.js";import"./KeyboardArrowRight-C4NP_Fdf.js";import"./schema-helper-DPRuLBjQ.js";import"./CardHeader-CNvgM0Ym.js";import"./LoadingButton-B1VX3ihL.js";import"./CircularProgress-Ba8n6-eZ.js";function ke({job:t,onView:i,onEdit:p,onDelete:r}){const s=_();return e.jsxs(e.Fragment,{children:[e.jsxs(xe,{children:[e.jsx(O,{onClick:s.onOpen,sx:{position:"absolute",top:8,right:8},children:e.jsx(x,{icon:"eva:more-vertical-fill"})}),e.jsxs(f,{sx:{p:3,pb:2},children:[e.jsx(K,{alt:t.company.name,src:t.company.logo,variant:"rounded",sx:{width:48,height:48,mb:2}}),e.jsx(he,{sx:{mb:1},primary:e.jsx(ue,{component:W,href:g.dashboard.job.details(t.id),color:"inherit",children:t.title}),secondary:`Posted date: ${U(t.createdAt)}`,primaryTypographyProps:{typography:"subtitle1"},secondaryTypographyProps:{mt:1,component:"span",typography:"caption",color:"text.disabled"}}),e.jsxs(f,{spacing:.5,direction:"row",alignItems:"center",sx:{color:"primary.main",typography:"caption"},children:[e.jsx(x,{width:16,icon:"solar:users-group-rounded-bold"}),t.candidates.length," candidates"]})]}),e.jsx(q,{sx:{borderStyle:"dashed"}}),e.jsx(b,{rowGap:1.5,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",sx:{p:3},children:[{label:t.experience,icon:e.jsx(x,{width:16,icon:"carbon:skill-level-basic",sx:{flexShrink:0}})},{label:t.employmentTypes.join(", "),icon:e.jsx(x,{width:16,icon:"solar:clock-circle-bold",sx:{flexShrink:0}})},{label:t.salary.negotiable?"Negotiable":me(t.salary.price),icon:e.jsx(x,{width:16,icon:"solar:wad-of-money-bold",sx:{flexShrink:0}})},{label:t.role,icon:e.jsx(x,{width:16,icon:"solar:user-rounded-bold",sx:{flexShrink:0}})}].map(o=>e.jsxs(f,{spacing:.5,flexShrink:0,direction:"row",alignItems:"center",sx:{color:"text.disabled",minWidth:0},children:[o.icon,e.jsx(j,{variant:"caption",noWrap:!0,children:o.label})]},o.label))})]}),e.jsx(A,{open:s.open,anchorEl:s.anchorEl,onClose:s.onClose,slotProps:{arrow:{placement:"right-top"}},children:e.jsxs(M,{children:[e.jsxs(v,{onClick:()=>{s.onClose(),i()},children:[e.jsx(x,{icon:"solar:eye-bold"}),"View"]}),e.jsxs(v,{onClick:()=>{s.onClose(),p()},children:[e.jsx(x,{icon:"solar:pen-bold"}),"Edit"]}),e.jsxs(v,{onClick:()=>{s.onClose(),r()},sx:{color:"error.main"},children:[e.jsx(x,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})})]})}function Ee({jobs:t}){const i=V(),p=d.useCallback(o=>{i.push(g.dashboard.job.details(o))},[i]),r=d.useCallback(o=>{i.push(g.dashboard.job.edit(o))},[i]),s=d.useCallback(o=>{console.info("DELETE",o)},[]);return e.jsxs(e.Fragment,{children:[e.jsx(b,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},children:t.map(o=>e.jsx(ke,{job:o,onView:()=>p(o.id),onEdit:()=>r(o.id),onDelete:()=>s(o.id)},o.id))}),t.length>8&&e.jsx(ye,{count:8,sx:{mt:{xs:8,md:8},[`& .${be.ul}`]:{justifyContent:"center"}}})]})}function Te({sort:t,onSort:i,sortOptions:p}){const r=_();return e.jsxs(e.Fragment,{children:[e.jsxs(P,{disableRipple:!0,color:"inherit",onClick:r.onOpen,endIcon:e.jsx(x,{icon:r.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{fontWeight:"fontWeightSemiBold"},children:["Sort by:",e.jsx(b,{component:"span",sx:{ml:.5,fontWeight:"fontWeightBold",textTransform:"capitalize"},children:t})]}),e.jsx(A,{open:r.open,anchorEl:r.anchorEl,onClose:r.onClose,children:e.jsx(M,{children:p.map(s=>e.jsx(v,{selected:s.value===t,onClick:()=>{r.onClose(),i(s.value)},children:s.label},s.value))})})]})}function ve({search:t,onSearch:i}){const p=V(),r=o=>{p.push(g.dashboard.job.details(o))},s=o=>{if(t.state.query&&o.key==="Enter"){const a=t.state.results.filter(h=>h.title===t.state.query)[0];r(a.id)}};return e.jsx(D,{sx:{width:{xs:1,sm:260}},autoHighlight:!0,popupIcon:null,options:t.state.results,onInputChange:(o,a)=>i(a),getOptionLabel:o=>o.title,noOptionsText:e.jsx(je,{query:t.state.query}),isOptionEqualToValue:(o,a)=>o.id===a.id,renderInput:o=>e.jsx(z,{...o,placeholder:"Search...",onKeyUp:s,InputProps:{...o.InputProps,startAdornment:e.jsx(fe,{position:"start",children:e.jsx(x,{icon:"eva:search-fill",sx:{ml:1,color:"text.disabled"}})})}}),renderOption:(o,a,{inputValue:h})=>{const l=Y(a.title,h),c=X(a.title,l);return d.createElement(b,{component:"li",...o,onClick:()=>r(a.id),key:a.id},e.jsx("div",{children:c.map((m,k)=>e.jsx(j,{component:"span",color:m.highlight?"primary":"textPrimary",sx:{typography:"body2",fontWeight:m.highlight?"fontWeightSemiBold":"fontWeightMedium"},children:m.text},k))}))}})}function we({open:t,canReset:i,onOpen:p,onClose:r,filters:s,options:o}){const a=d.useCallback(n=>{const y=s.state.employmentTypes.includes(n)?s.state.employmentTypes.filter(C=>C!==n):[...s.state.employmentTypes,n];s.setState({employmentTypes:y})},[s]),h=d.useCallback(n=>{s.setState({experience:n})},[s]),l=d.useCallback(n=>{s.setState({roles:n})},[s]),c=d.useCallback(n=>{s.setState({locations:n})},[s]),m=d.useCallback(n=>{const y=s.state.benefits.includes(n)?s.state.benefits.filter(C=>C!==n):[...s.state.benefits,n];s.setState({benefits:y})},[s]),k=e.jsxs(e.Fragment,{children:[e.jsxs(b,{display:"flex",alignItems:"center",sx:{py:2,pr:1,pl:2.5},children:[e.jsx(j,{variant:"h6",sx:{flexGrow:1},children:"Filters"}),e.jsx(Q,{title:"Reset",children:e.jsx(O,{onClick:s.onResetState,children:e.jsx(L,{color:"error",variant:"dot",invisible:!i,children:e.jsx(x,{icon:"solar:restart-bold"})})})}),e.jsx(O,{onClick:r,children:e.jsx(x,{icon:"mingcute:close-line"})})]}),e.jsx(q,{sx:{borderStyle:"dashed"}})]}),u=e.jsxs(b,{display:"flex",flexDirection:"column",children:[e.jsx(j,{variant:"subtitle2",sx:{mb:1},children:"Employment types"}),o.employmentTypes.map(n=>e.jsx(R,{control:e.jsx(N,{checked:s.state.employmentTypes.includes(n),onClick:()=>a(n)}),label:n},n))]}),w=e.jsxs(b,{display:"flex",flexDirection:"column",children:[e.jsx(j,{variant:"subtitle2",sx:{mb:1},children:"Experience"}),o.experiences.map(n=>e.jsx(R,{control:e.jsx(Ce,{checked:n===s.state.experience,onClick:()=>h(n)}),label:n,sx:{...n==="all"&&{textTransform:"capitalize"}}},n))]}),F=e.jsxs(b,{display:"flex",flexDirection:"column",children:[e.jsx(j,{variant:"subtitle2",sx:{mb:1.5},children:"Roles"}),e.jsx(D,{multiple:!0,disableCloseOnSelect:!0,options:o.roles.map(n=>n),getOptionLabel:n=>n,value:s.state.roles,onChange:(n,y)=>l(y),renderInput:n=>e.jsx(z,{placeholder:"Select Roles",...n}),renderOption:(n,y)=>d.createElement("li",{...n,key:y},y),renderTags:(n,y)=>n.map((C,$)=>d.createElement(S,{...y({index:$}),key:C,label:C,size:"small",variant:"soft"}))})]}),G=e.jsxs(b,{display:"flex",flexDirection:"column",children:[e.jsx(j,{variant:"subtitle2",sx:{mb:1.5},children:"Locations"}),e.jsx(ge,{id:"multiple-locations",multiple:!0,fullWidth:!0,placeholder:s.state.locations.length?"+ Locations":"Select Locations",value:s.state.locations,onChange:(n,y)=>c(y)})]}),H=e.jsxs(b,{display:"flex",flexDirection:"column",children:[e.jsx(j,{variant:"subtitle2",sx:{mb:1},children:"Benefits"}),o.benefits.map(n=>e.jsx(R,{control:e.jsx(N,{checked:s.state.benefits.includes(n),onClick:()=>m(n)}),label:n},n))]});return e.jsxs(e.Fragment,{children:[e.jsx(P,{disableRipple:!0,color:"inherit",endIcon:e.jsx(L,{color:"error",variant:"dot",invisible:!i,children:e.jsx(x,{icon:"ic:round-filter-list"})}),onClick:p,children:"Filters"}),e.jsxs(Z,{anchor:"right",open:t,onClose:r,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:320}},children:[k,e.jsx(ee,{sx:{px:2.5,py:3},children:e.jsxs(f,{spacing:3,children:[u,w,F,G,H]})})]})]})}function Fe({filters:t,totalResults:i,sx:p}){const r=l=>{const c=t.state.employmentTypes.filter(m=>m!==l);t.setState({employmentTypes:c})},s=()=>{t.setState({experience:"all"})},o=l=>{const c=t.state.roles.filter(m=>m!==l);t.setState({roles:c})},a=l=>{const c=t.state.locations.filter(m=>m!==l);t.setState({locations:c})},h=l=>{const c=t.state.benefits.filter(m=>m!==l);t.setState({benefits:c})};return e.jsxs(Se,{totalResults:i,onReset:t.onResetState,sx:p,children:[e.jsx(E,{label:"Employment types:",isShow:!!t.state.employmentTypes.length,children:t.state.employmentTypes.map(l=>d.createElement(S,{...T,key:l,label:l,onDelete:()=>r(l)}))}),e.jsx(E,{label:"Experience:",isShow:t.state.experience!=="all",children:e.jsx(S,{...T,label:t.state.experience,onDelete:s})}),e.jsx(E,{label:"Roles:",isShow:!!t.state.roles.length,children:t.state.roles.map(l=>d.createElement(S,{...T,key:l,label:l,onDelete:()=>o(l)}))}),e.jsx(E,{label:"Locations:",isShow:!!t.state.locations.length,children:t.state.locations.map(l=>d.createElement(S,{...T,key:l,label:l,onDelete:()=>a(l)}))}),e.jsx(E,{label:"Benefits:",isShow:!!t.state.benefits.length,children:t.state.benefits.map(l=>d.createElement(S,{...T,key:l,label:l,onDelete:()=>h(l)}))})]})}function Ie(){const t=te(),[i,p]=d.useState("latest"),r=B({query:"",results:[]}),s=B({roles:[],locations:[],benefits:[],experience:"all",employmentTypes:[]}),o=Re({inputData:J,filters:s.state,sortBy:i}),a=s.state.roles.length>0||s.state.locations.length>0||s.state.benefits.length>0||s.state.employmentTypes.length>0||s.state.experience!=="all",h=!o.length&&a,l=d.useCallback(u=>{p(u)},[]),c=d.useCallback(u=>{if(r.setState({query:u}),u){const w=J.filter(F=>F.title.toLowerCase().indexOf(r.state.query.toLowerCase())!==-1);r.setState({results:w})}},[r]),m=e.jsxs(f,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},children:[e.jsx(ve,{search:r,onSearch:c}),e.jsxs(f,{direction:"row",spacing:1,flexShrink:0,children:[e.jsx(we,{filters:s,canReset:a,open:t.value,onOpen:t.onTrue,onClose:t.onFalse,options:{roles:se,benefits:oe.map(u=>u.label),employmentTypes:ne.map(u=>u.label),experiences:["all",...le.map(u=>u.label)]}}),e.jsx(Te,{sort:i,onSort:l,sortOptions:re})]})]}),k=e.jsx(Fe,{filters:s,totalResults:o.length});return e.jsxs(ae,{children:[e.jsx(pe,{heading:"List",links:[{name:"Dashboard",href:g.dashboard.root},{name:"Job",href:g.dashboard.job.root},{name:"List"}],action:e.jsx(P,{component:W,href:g.dashboard.job.new,variant:"contained",startIcon:e.jsx(x,{icon:"mingcute:add-line"}),children:"New job"}),sx:{mb:{xs:3,md:5}}}),e.jsxs(f,{spacing:2.5,sx:{mb:{xs:3,md:5}},children:[m,a&&k]}),h&&e.jsx(de,{filled:!0,sx:{py:10}}),e.jsx(Ee,{jobs:o})]})}const Re=({inputData:t,filters:i,sortBy:p})=>{const{employmentTypes:r,experience:s,roles:o,locations:a,benefits:h}=i;return p==="latest"&&(t=I(t,["createdAt"],["desc"])),p==="oldest"&&(t=I(t,["createdAt"],["asc"])),p==="popular"&&(t=I(t,["totalViews"],["desc"])),r.length&&(t=t.filter(l=>l.employmentTypes.some(c=>r.includes(c)))),s!=="all"&&(t=t.filter(l=>l.experience===s)),o.length&&(t=t.filter(l=>o.includes(l.role))),a.length&&(t=t.filter(l=>l.locations.some(c=>a.includes(c)))),h.length&&(t=t.filter(l=>l.benefits.some(c=>h.includes(c)))),t},Oe={title:`Job list | Dashboard - ${ce.site.name}`};function wt(){return e.jsxs(e.Fragment,{children:[e.jsx(ie,{children:e.jsxs("title",{children:[" ",Oe.title]})}),e.jsx(Ie,{})]})}export{wt as default};
