import{j as s,h as j,B as m,T as u,aX as I,ad as y,q as p,I as d,f as v,t as w,cw as k,aZ as S,r as T,cY as g,w as b}from"./index-u4c5uTy0.js";import{E as P}from"./empty-content-CuZPPhHf.js";import{G as c}from"./Grid2-D3oxcX0N.js";import{S as a}from"./Skeleton-YqBi0fMo.js";import{a as C}from"./format-number-big90whk.js";import{M as D}from"./MenuItem-CQqSdt0g.js";import{I as E}from"./image-I9HL7nG0.js";import{u as L,L as B}from"./use-light-box-DN1qWpi3.js";import{u as G,C as M,a as A,b as R}from"./carousel-progress-bar-36AiIw2h.js";import{C as _}from"./carousel-arrow-buttons-DyJOhw3z.js";function z({...e}){return s.jsxs(c,{container:!0,spacing:8,...e,children:[s.jsx(c,{xs:12,md:6,lg:7,children:s.jsx(a,{sx:{pt:"100%"}})}),s.jsx(c,{xs:12,md:6,lg:5,children:s.jsxs(j,{spacing:3,children:[s.jsx(a,{sx:{height:16,width:48}}),s.jsx(a,{sx:{height:16,width:80}}),s.jsx(a,{sx:{height:16,width:.5}}),s.jsx(a,{sx:{height:16,width:.75}}),s.jsx(a,{sx:{height:120}})]})}),s.jsx(c,{xs:12,children:s.jsx(j,{direction:"row",alignItems:"center",children:[...Array(3)].map((r,o)=>s.jsxs(j,{spacing:2,alignItems:"center",justifyContent:"center",sx:{width:1},children:[s.jsx(a,{variant:"circular",sx:{width:80,height:80}}),s.jsx(a,{sx:{height:16,width:160}}),s.jsx(a,{sx:{height:16,width:80}})]},o))})})]})}function F({product:e}){const{slug:r,title:o,content:n,category:l,price:t,salePercent:i}=e,f=s.jsx(u,{variant:"body2",sx:{color:"text.secondary"},children:s.jsx("div",{dangerouslySetInnerHTML:{__html:n}})}),x=s.jsx(m,{component:"span",sx:{typography:"overline",color:"success.main"},children:l.name});return s.jsx(j,{spacing:3,sx:{pt:3},children:s.jsxs(j,{spacing:2,alignItems:"flex-start",children:[x,s.jsx(u,{variant:"h6",children:r}),s.jsxs(m,{sx:{position:"relative",typography:"h5"},children:[i!==0&&s.jsxs(u,{component:"span",sx:{color:"red",position:"absolute",top:"-10px",right:"0px",fontSize:"0.75em"},children:["-",i,"%"]}),i!==0&&s.jsx(m,{component:"span",sx:{color:"text.disabled",textDecoration:"line-through",mr:.5},children:C(t)}),s.jsx(m,{component:"span",sx:{mr:.5},children:C(Number(t)*((100-i)/100))})]}),s.jsx(u,{variant:"h5",children:o}),f]})})}function N({publish:e,backLink:r,editLink:o,liveLink:n,publishOptions:l,onChangePublish:t,sx:i,...f}){const x=I();return s.jsxs(s.Fragment,{children:[s.jsxs(j,{spacing:1.5,direction:"row",sx:{mb:{xs:3,md:5},...i},...f,children:[s.jsx(y,{component:p,href:r,startIcon:s.jsx(d,{icon:"eva:arrow-ios-back-fill",width:16}),children:"Back"}),s.jsx(m,{sx:{flexGrow:1}}),e==="published"&&n!==void 0&&s.jsx(v,{title:"Go Live",children:s.jsx(w,{component:p,href:n,children:s.jsx(d,{icon:"eva:external-link-fill"})})}),s.jsx(v,{title:"Edit",children:s.jsx(w,{component:p,href:o,children:s.jsx(d,{icon:"solar:pen-bold"})})})]}),s.jsx(k,{open:x.open,anchorEl:x.anchorEl,onClose:x.onClose,slotProps:{arrow:{placement:"top-right"}},children:s.jsx(S,{children:l==null?void 0:l.map(h=>s.jsxs(D,{selected:h.value===e,onClick:()=>{x.onClose(),t!==void 0&&t(h.value)},children:[h.value==="published"&&s.jsx(d,{icon:"eva:cloud-upload-fill"}),h.value==="draft"&&s.jsx(d,{icon:"solar:file-text-bold"}),h.label]},h.value))})})]})}function q({images:e}){var l;const r=G({thumbs:{slidesToShow:"auto"}}),o=(e==null?void 0:e.map(t=>({src:t})))||[],n=L(o);return T.useEffect(()=>{var t;n.open&&((t=r.mainApi)==null||t.scrollTo(n.selected,!0))},[r.mainApi,n.open,n.selected]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsxs(m,{sx:{mb:2.5,position:"relative"},children:[s.jsx(_,{...r.arrows,options:r.options,totalSlides:r.dots.dotCount,selectedIndex:r.dots.selectedIndex+1,sx:{right:16,bottom:16,position:"absolute"}}),s.jsx(M,{carousel:r,sx:{borderRadius:2},children:o.map(t=>s.jsx(E,{alt:t.src,src:t.src,ratio:"1/1",onClick:()=>n.onOpen(t.src),sx:{cursor:"zoom-in",minWidth:320}},t.src))})]}),s.jsx(A,{ref:r.thumbs.thumbsRef,options:(l=r.options)==null?void 0:l.thumbs,slotProps:{disableMask:!0},sx:{width:360},children:o.map((t,i)=>s.jsx(R,{index:i,src:t.src,selected:i===r.thumbs.selectedIndex,onClick:()=>r.thumbs.onClickThumb(i)},t.src))})]}),s.jsx(B,{index:n.selected,slides:o,open:n.open,close:n.onClose,onGetCurrentIndex:t=>n.setSelected(t)})]})}function U({product:e,error:r,loading:o}){return o?s.jsx(g,{sx:{pt:5},children:s.jsx(z,{})}):r?s.jsx(g,{sx:{pt:5},children:s.jsx(P,{filled:!0,title:"Sản phẩm không tồn tại!",action:s.jsx(y,{component:p,href:b.dashboard.product.root,startIcon:s.jsx(d,{width:16,icon:"eva:arrow-ios-back-fill"}),sx:{mt:3},children:"Quay lại"}),sx:{py:10,height:"auto",flexGrow:"unset"}})}):s.jsxs(g,{children:[s.jsx(N,{backLink:b.dashboard.product.root,editLink:b.dashboard.product.edit(`${e==null?void 0:e.slug}`)}),s.jsxs(c,{container:!0,spacing:{xs:3,md:5,lg:8},children:[s.jsx(c,{xs:12,md:6,lg:7,children:s.jsx(q,{images:e!=null&&e.thumbnail?[e.thumbnail,...e.images]:(e==null?void 0:e.images)??[]})}),s.jsx(c,{xs:12,md:6,lg:5,children:e&&s.jsx(F,{product:e})})]})]})}export{U as P};
