import{r as p,j as r,B as i,aw as t,I as R,T as C}from"./index-DBDTQgzR.js";import{u as I}from"./preview-multi-file-BxqREHj2.js";import{I as U}from"./image-DnyeokJc.js";import{R as E}from"./upload-CrEYFCVg.js";function A({sx:d,error:h,value:o,disabled:n,helperText:c,...m}){const{getRootProps:x,getInputProps:g,isDragActive:f,isDragReject:u,fileRejections:j}=I({multiple:!1,disabled:n,accept:{"image/*":[]},...m}),a=!!o,s=u||!!h,[y,l]=p.useState("");p.useEffect(()=>{typeof o=="string"?l(o):o instanceof File&&l(URL.createObjectURL(o))},[o]);const v=a&&r.jsx(U,{alt:"avatar",src:y,sx:{width:1,height:1,borderRadius:"50%"}}),b=r.jsxs(i,{className:"upload-placeholder",sx:{top:0,gap:1,left:0,width:1,height:1,zIndex:9,display:"flex",borderRadius:"50%",position:"absolute",alignItems:"center",color:"text.disabled",flexDirection:"column",justifyContent:"center",bgcolor:e=>t(e.vars.palette.grey["500Channel"],.08),transition:e=>e.transitions.create(["opacity"],{duration:e.transitions.duration.shorter}),"&:hover":{opacity:.72},...s&&{color:"error.main",bgcolor:e=>t(e.vars.palette.error.mainChannel,.08)},...a&&{zIndex:9,opacity:0,color:"common.white",bgcolor:e=>t(e.vars.palette.grey["900Channel"],.64)}},children:[r.jsx(R,{icon:"solar:camera-add-bold",width:32}),r.jsx(C,{variant:"caption",children:a?"Update photo":"Upload photo"})]}),w=r.jsxs(i,{sx:{width:1,height:1,overflow:"hidden",borderRadius:"50%",position:"relative"},children:[v,b]});return r.jsxs(r.Fragment,{children:[r.jsxs(i,{...x(),sx:{p:1,m:"auto",width:144,height:144,cursor:"pointer",overflow:"hidden",borderRadius:"50%",border:e=>`1px dashed ${t(e.vars.palette.grey["500Channel"],.2)}`,...f&&{opacity:.72},...n&&{opacity:.48,pointerEvents:"none"},...s&&{borderColor:"error.main"},...a&&{...s&&{bgcolor:e=>t(e.vars.palette.error.mainChannel,.08)},"&:hover .upload-placeholder":{opacity:1}},...d},children:[r.jsx("input",{...g()}),w]}),c&&c,r.jsx(E,{files:j})]})}export{A as U};
