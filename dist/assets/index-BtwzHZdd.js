import{be as ce,bd as de,aF as he,r as u,aK as pe,aL as xe,aI as Z,j as e,aM as me,aN as ue,aP as U,p as v,aX as _,cM as L,aw as P,cZ as ge,c$ as O,h as w,T as A,dl as Ce,dm as je,dA as te,d8 as oe,I as m,t as M,cw as G,aZ as ae,ap as K,ad as F,B as D,f as J,au as be,ea as ne,dF as ve,dc as fe,c0 as ye,bb as ke,cL as we,e8 as q,b3 as $,f0 as Te,dK as Fe,cI as De,f1 as Se,cY as Ie,ec as Re,H as Pe,l as Ae}from"./index-CZQdhxL6.js";import{F as H,a as Ee}from"./file-thumbnail-DwL3Xnqg.js";import{E as Le}from"./empty-content-CNoNRi_C.js";import{C as V}from"./confirm-dialog-1qdBg838.js";import{T as Me,a as Be,u as $e,g as ze,r as Ne}from"./table-pagination-custom-CLUydGY4.js";import{T as Oe}from"./table-no-data-Do4RW2gP.js";import{T as We}from"./table-head-custom-6V7ilj5w.js";import{u as Ue}from"./use-double-click-_ED_UsHu.js";import{u as se}from"./use-copy-to-clipboard-DTVjvh8S.js";import{f as re}from"./format-number-BMTKi65b.js";import{F as le,a as X,b as Q,c as _e,d as W}from"./file-manager-folder-item-DaBm7FcU.js";import{b as Ge,T as Ke,a as He}from"./TableRow-fVvKj13G.js";import{T as S}from"./TableCell-DpYGOSsU.js";import{C as E}from"./Checkbox-vPWnpj5r.js";import{L as Ve}from"./ListItemText-Cr03FIqH.js";import{A as ie}from"./AvatarGroup-DeclGaCX.js";import{M as I}from"./MenuItem-B-kec-ET.js";import{t as Xe}from"./TablePagination-BnD_foh1.js";import{L as Ye}from"./label-VukvCSVc.js";import{C as Ze}from"./custom-date-range-picker-C_ZJJWnG.js";import{I as Je}from"./InputAdornment-FYGjj27N.js";import{C as qe}from"./CardActionArea-CRQtnpL7.js";import{F as Qe,a as z,c as N}from"./filters-result-BjhVJUlj.js";import{T as et,a as ee}from"./ToggleButtonGroup-D93pVtaH.js";import"./dialogTitleClasses-CEl360C-.js";import"./DialogTitle-0aPq7ynf.js";import"./DialogContent-DclWW8HV.js";import"./DialogActions-q6AF7Mz6.js";import"./FormControlLabel-BkPFkiPo.js";import"./upload-Cc3l3Jk3.js";import"./preview-multi-file-DA87ns5L.js";import"./index-BlO45MYk.js";import"./image-BKqVmPzF.js";import"./listItemTextClasses-tNQx_Nyt.js";import"./KeyboardArrowRight-CiRDKZM6.js";import"./LastPage-BXs-7qE5.js";import"./DatePicker-DnV5-WsQ.js";import"./visuallyHidden-Dan1xhjv.js";import"./ListItem-B0RV7hht.js";import"./listItemButtonClasses-DXIYlEZ6.js";function tt(t){return ce("MuiTableContainer",t)}de("MuiTableContainer",["root"]);const ot=["className","component"],at=t=>{const{classes:o}=t;return ue({root:["root"]},tt,o)},nt=he("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,o)=>o.root})({width:"100%",overflowX:"auto"}),st=u.forwardRef(function(o,h){const i=pe({props:o,name:"MuiTableContainer"}),{className:c,component:g="div"}=i,p=xe(i,ot),a=Z({},i,{component:g}),r=at(a);return e.jsx(nt,Z({ref:h,as:g,className:me(r.root,c),ownerState:a},p))});function rt({row:t,selected:o,onSelectRow:h,onDeleteRow:i}){const c=U(),{copy:g}=se(),[p,a]=u.useState(""),r=v(t.isFavorited),l=v(),s=v(),x=v(),C=_(),b=u.useCallback(d=>{a(d.target.value)},[]),f=Ue({click:()=>{l.onTrue()},doubleClick:()=>console.info("DOUBLE CLICK")}),y=u.useCallback(()=>{L.success("Copied!"),g(t.url)},[g,t.url]),k={borderTop:`solid 1px ${P(c.vars.palette.grey["500Channel"],.16)}`,borderBottom:`solid 1px ${P(c.vars.palette.grey["500Channel"],.16)}`,"&:first-of-type":{borderTopLeftRadius:16,borderBottomLeftRadius:16,borderLeft:`solid 1px ${P(c.vars.palette.grey["500Channel"],.16)}`},"&:last-of-type":{borderTopRightRadius:16,borderBottomRightRadius:16,borderRight:`solid 1px ${P(c.vars.palette.grey["500Channel"],.16)}`}};return e.jsxs(e.Fragment,{children:[e.jsxs(Ge,{selected:o,sx:{borderRadius:2,[`&.${ge.selected}, &:hover`]:{backgroundColor:"background.paper",boxShadow:c.customShadows.z20,transition:c.transitions.create(["background-color","box-shadow"],{duration:c.transitions.duration.shortest}),"&:hover":{backgroundColor:"background.paper",boxShadow:c.customShadows.z20}},[`& .${O.root}`]:{...k},...l.value&&{[`& .${O.root}`]:{...k}}},children:[e.jsx(S,{padding:"checkbox",children:e.jsx(E,{checked:o,onDoubleClick:()=>console.info("ON DOUBLE CLICK"),onClick:h,inputProps:{id:`row-checkbox-${t.id}`,"aria-label":"row-checkbox"}})}),e.jsx(S,{onClick:f,children:e.jsxs(w,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(H,{file:t.type}),e.jsx(A,{noWrap:!0,variant:"inherit",sx:{maxWidth:360,cursor:"pointer",...l.value&&{fontWeight:"fontWeightBold"}},children:t.name})]})}),e.jsx(S,{onClick:f,sx:{whiteSpace:"nowrap"},children:re(t.size)}),e.jsx(S,{onClick:f,sx:{whiteSpace:"nowrap"},children:t.type}),e.jsx(S,{onClick:f,sx:{whiteSpace:"nowrap"},children:e.jsx(Ve,{primary:Ce(t.modifiedAt),secondary:je(t.modifiedAt),primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),e.jsx(S,{align:"right",onClick:f,children:e.jsx(ie,{max:4,sx:{display:"inline-flex",[`& .${te.avatar}`]:{width:24,height:24,"&:first-of-type":{fontSize:12}}},children:t.shared&&t.shared.map(d=>e.jsx(oe,{alt:d.name,src:d.avatarUrl},d.id))})}),e.jsxs(S,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:[e.jsx(E,{color:"warning",icon:e.jsx(m,{icon:"eva:star-outline"}),checkedIcon:e.jsx(m,{icon:"eva:star-fill"}),checked:r.value,onChange:r.onToggle,sx:{p:.75},inputProps:{id:`favorite-${t.id}`,"aria-label":"Favorite checkbox"}}),e.jsx(M,{color:C.open?"inherit":"default",onClick:C.onOpen,children:e.jsx(m,{icon:"eva:more-vertical-fill"})})]})]}),e.jsx(G,{open:C.open,anchorEl:C.anchorEl,onClose:C.onClose,slotProps:{arrow:{placement:"right-top"}},children:e.jsxs(ae,{children:[e.jsxs(I,{onClick:()=>{C.onClose(),y()},children:[e.jsx(m,{icon:"eva:link-2-fill"}),"Copy Link"]}),e.jsxs(I,{onClick:()=>{C.onClose(),s.onTrue()},children:[e.jsx(m,{icon:"solar:share-bold"}),"Share"]}),e.jsx(K,{sx:{borderStyle:"dashed"}}),e.jsxs(I,{onClick:()=>{x.onTrue(),C.onClose()},sx:{color:"error.main"},children:[e.jsx(m,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})}),e.jsx(le,{item:t,favorited:r.value,onFavorite:r.onToggle,onCopyLink:y,open:l.value,onClose:l.onFalse,onDelete:i}),e.jsx(X,{open:s.value,shared:t.shared,inviteEmail:p,onChangeInvite:b,onCopyLink:y,onClose:()=>{s.onFalse(),a("")}}),e.jsx(V,{open:x.value,onClose:x.onFalse,title:"Delete",content:"Are you sure want to delete?",action:e.jsx(F,{variant:"contained",color:"error",onClick:i,children:"Delete"})})]})}const lt=[{id:"name",label:"Name"},{id:"size",label:"Size",width:120},{id:"type",label:"Type",width:120},{id:"modifiedAt",label:"Modified",width:140},{id:"shared",label:"Shared",align:"right",width:140},{id:"",width:88}];function it({table:t,notFound:o,onDeleteRow:h,dataFiltered:i,onOpenConfirm:c}){const g=U(),{dense:p,page:a,order:r,orderBy:l,rowsPerPage:s,selected:x,onSelectRow:C,onSelectAllRows:b,onSort:f,onChangeDense:y,onChangePage:k,onChangeRowsPerPage:d}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(D,{sx:{position:"relative",m:{md:g.spacing(-2,-3,0,-3)}},children:[e.jsx(Me,{dense:p,numSelected:x.length,rowCount:i.length,onSelectAllRows:j=>b(j,i.map(n=>n.id)),action:e.jsxs(e.Fragment,{children:[e.jsx(J,{title:"Share",children:e.jsx(M,{color:"primary",children:e.jsx(m,{icon:"solar:share-bold"})})}),e.jsx(J,{title:"Delete",children:e.jsx(M,{color:"primary",onClick:c,children:e.jsx(m,{icon:"solar:trash-bin-trash-bold"})})})]}),sx:{pl:1,pr:2,top:16,left:24,right:24,width:"auto",borderRadius:1.5}}),e.jsx(st,{sx:{px:{md:3}},children:e.jsxs(Ke,{size:p?"small":"medium",sx:{minWidth:960,borderCollapse:"separate",borderSpacing:"0 16px"},children:[e.jsx(We,{order:r,orderBy:l,headLabel:lt,rowCount:i.length,numSelected:x.length,onSort:f,onSelectAllRows:j=>b(j,i.map(n=>n.id)),sx:{[`& .${O.head}`]:{"&:first-of-type":{borderTopLeftRadius:12,borderBottomLeftRadius:12},"&:last-of-type":{borderTopRightRadius:12,borderBottomRightRadius:12}}}}),e.jsxs(He,{children:[i.slice(a*s,a*s+s).map(j=>e.jsx(rt,{row:j,selected:x.includes(j.id),onSelectRow:()=>C(j.id),onDeleteRow:()=>h(j.id)},j.id)),e.jsx(Oe,{notFound:o,sx:{m:-2,borderRadius:1.5,border:`dashed 1px ${g.vars.palette.divider}`}})]})]})})]}),e.jsx(Be,{page:a,dense:p,rowsPerPage:s,count:i.length,onPageChange:k,onChangeDense:y,onRowsPerPageChange:d,sx:{[`& .${Xe.toolbar}`]:{borderTopColor:"transparent"}}})]})}function ct({filters:t,options:o,dateError:h,onResetPage:i,openDateRange:c,onOpenDateRange:g,onCloseDateRange:p}){const a=_(),r=t.state.type.length?t.state.type.slice(0,2).join(","):"All type",l=u.useCallback(d=>{i(),t.setState({name:d.target.value})},[t,i]),s=u.useCallback(d=>{i(),t.setState({startDate:d})},[t,i]),x=u.useCallback(d=>{t.setState({endDate:d})},[t]),C=u.useCallback(d=>{const j=t.state.type.includes(d)?t.state.type.filter(n=>n!==d):[...t.state.type,d];t.setState({type:j})},[t]),b=u.useCallback(()=>{a.onClose(),t.setState({type:[]})},[t,a]),f=e.jsx(be,{value:t.state.name,onChange:l,placeholder:"Search...",InputProps:{startAdornment:e.jsx(Je,{position:"start",children:e.jsx(m,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})},sx:{width:{xs:1,md:260}}}),y=e.jsxs(e.Fragment,{children:[e.jsxs(F,{color:"inherit",onClick:a.onOpen,endIcon:e.jsx(m,{icon:a.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill",sx:{ml:-.5}}),children:[r,t.state.type.length>2&&e.jsxs(Ye,{color:"info",sx:{ml:1},children:["+",t.state.type.length-2]})]}),e.jsx(G,{open:a.open,anchorEl:a.anchorEl,onClose:a.onClose,slotProps:{paper:{sx:{p:2.5}}},children:e.jsxs(w,{spacing:2.5,children:[e.jsx(D,{gap:1,display:"grid",gridTemplateColumns:{xs:"repeat(2, 1fr)",sm:"repeat(4, 1fr)"},children:o.types.map(d=>{const j=t.state.type.includes(d);return e.jsx(qe,{onClick:()=>C(d),sx:{p:1,borderRadius:1,cursor:"pointer",border:n=>`solid 1px ${P(n.vars.palette.grey["500Channel"],.08)}`,...j&&{bgcolor:"action.selected"}},children:e.jsxs(w,{spacing:1,direction:"row",alignItems:"center",sx:{typography:"caption",textTransform:"capitalize",...j&&{fontWeight:"fontWeightSemiBold"}},children:[e.jsx(H,{file:d,sx:{width:24,height:24}}),d]})},d)})}),e.jsxs(w,{spacing:1.5,direction:"row",alignItems:"center",justifyContent:"flex-end",children:[e.jsx(F,{variant:"outlined",color:"inherit",onClick:b,children:"Clear"}),e.jsx(F,{variant:"contained",onClick:a.onClose,children:"Apply"})]})]})})]}),k=e.jsxs(e.Fragment,{children:[e.jsx(F,{color:"inherit",onClick:g,endIcon:e.jsx(m,{icon:c?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill",sx:{ml:-.5}}),children:t.state.startDate&&t.state.endDate?ne(t.state.startDate,t.state.endDate):"Select date"}),e.jsx(Ze,{variant:"calendar",startDate:t.state.startDate,endDate:t.state.endDate,onChangeStartDate:s,onChangeEndDate:x,open:c,onClose:p,selected:!!t.state.startDate&&!!t.state.endDate,error:h})]});return e.jsxs(w,{spacing:1,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},sx:{width:1},children:[f,e.jsxs(w,{spacing:1,direction:"row",alignItems:"center",justifyContent:"flex-end",flexGrow:1,children:[k,y]})]})}function dt({file:t,selected:o,onSelect:h,onDelete:i,sx:c,...g}){var Y;const p=U(),a=v(),r=v(),l=v(),s=_(),x=v(),{copy:C}=se(),b=v(t.isFavorited),[f,y]=u.useState(""),k=u.useCallback(R=>{y(R.target.value)},[]),d=u.useCallback(()=>{L.success("Copied!"),C(t.url)},[C,t.url]),j=e.jsx(D,{onMouseEnter:x.onTrue,onMouseLeave:x.onFalse,sx:{display:"inline-flex",width:36,height:36},children:(x.value||o)&&h?e.jsx(E,{checked:o,onClick:h,icon:e.jsx(m,{icon:"eva:radio-button-off-fill"}),checkedIcon:e.jsx(m,{icon:"eva:checkmark-circle-2-fill"}),inputProps:{id:`item-checkbox-${t.id}`,"aria-label":"Item checkbox"},sx:{width:1,height:1}}):e.jsx(H,{file:t.type,sx:{width:1,height:1}})}),n=e.jsxs(w,{direction:"row",alignItems:"center",sx:{top:8,right:8,position:"absolute"},children:[e.jsx(E,{color:"warning",icon:e.jsx(m,{icon:"eva:star-outline"}),checkedIcon:e.jsx(m,{icon:"eva:star-fill"}),checked:b.value,onChange:b.onToggle,inputProps:{id:`favorite-checkbox-${t.id}`,"aria-label":"Favorite checkbox"}}),e.jsx(M,{color:s.open?"inherit":"default",onClick:s.onOpen,children:e.jsx(m,{icon:"eva:more-vertical-fill"})})]}),T=e.jsxs(e.Fragment,{children:[e.jsx(A,{variant:"subtitle2",onClick:l.onTrue,sx:{...ve({line:2,persistent:p.typography.subtitle2}),mt:2,mb:.5,width:1},children:t.name}),e.jsxs(w,{direction:"row",alignItems:"center",sx:{maxWidth:.99,whiteSpace:"nowrap",typography:"caption",color:"text.disabled"},children:[re(t.size),e.jsx(D,{component:"span",sx:{mx:.75,width:2,height:2,flexShrink:0,borderRadius:"50%",bgcolor:"currentColor"}}),e.jsx(A,{noWrap:!0,component:"span",variant:"caption",children:fe(t.modifiedAt)})]})]}),B=e.jsx(ie,{max:3,sx:{mt:1,[`& .${te.avatar}`]:{width:24,height:24,"&:first-of-type":{fontSize:12}}},children:(Y=t.shared)==null?void 0:Y.map(R=>e.jsx(oe,{alt:R.name,src:R.avatarUrl},R.id))});return e.jsxs(e.Fragment,{children:[e.jsxs(ye,{variant:"outlined",sx:{p:2.5,display:"flex",borderRadius:2,cursor:"pointer",position:"relative",bgcolor:"transparent",flexDirection:"column",alignItems:"flex-start",...(x.value||o)&&{bgcolor:"background.paper",boxShadow:p.customShadows.z20},...c},...g,children:[j,T,B,n]}),e.jsx(G,{open:s.open,anchorEl:s.anchorEl,onClose:s.onClose,slotProps:{arrow:{placement:"right-top"}},children:e.jsxs(ae,{children:[e.jsxs(I,{onClick:()=>{s.onClose(),d()},children:[e.jsx(m,{icon:"eva:link-2-fill"}),"Copy Link"]}),e.jsxs(I,{onClick:()=>{s.onClose(),a.onTrue()},children:[e.jsx(m,{icon:"solar:share-bold"}),"Share"]}),e.jsx(K,{sx:{borderStyle:"dashed"}}),e.jsxs(I,{onClick:()=>{r.onTrue(),s.onClose()},sx:{color:"error.main"},children:[e.jsx(m,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})}),e.jsx(le,{item:t,favorited:b.value,onFavorite:b.onToggle,onCopyLink:d,open:l.value,onClose:l.onFalse,onDelete:()=>{l.onFalse(),i()}}),e.jsx(X,{open:a.value,shared:t.shared,inviteEmail:f,onChangeInvite:k,onCopyLink:d,onClose:()=>{a.onFalse(),y("")}}),e.jsx(V,{open:r.value,onClose:r.onFalse,title:"Delete",content:"Are you sure want to delete?",action:e.jsx(F,{variant:"contained",color:"error",onClick:i,children:"Delete"})})]})}function ht({action:t,selected:o,rowCount:h,numSelected:i,onSelectAllItems:c,sx:g,...p}){return e.jsx(ke,{children:e.jsxs(D,{sx:{right:0,zIndex:9,bottom:0,display:"flex",borderRadius:1.5,position:"fixed",alignItems:"center",bgcolor:"text.primary",p:a=>a.spacing(1.5,2,1.5,1),boxShadow:a=>a.customShadows.z20,m:{xs:2,md:3},...g},...p,children:[e.jsx(E,{indeterminate:!!i&&i<h,checked:!!h&&i===h,onChange:a=>c(a.target.checked),icon:e.jsx(m,{icon:"eva:radio-button-off-fill"}),checkedIcon:e.jsx(m,{icon:"eva:checkmark-circle-2-fill"}),indeterminateIcon:e.jsx(m,{icon:"eva:minus-circle-fill"})}),o&&e.jsxs(A,{variant:"subtitle2",sx:{mr:2,color:"common.white",[we.dark]:{color:"grey.800"}},children:[o.length," Items selected"]}),t&&t]})})}function pt({table:t,dataFiltered:o,onDeleteItem:h,onOpenConfirm:i}){const{selected:c,onSelectRow:g,onSelectAllRows:p}=t,a=v(),r=v(),l=v(),s=v(),x=v(),C=u.useRef(null),[b,f]=u.useState(""),[y,k]=u.useState(""),d=u.useCallback(n=>{k(n.target.value)},[]),j=u.useCallback(n=>{f(n.target.value)},[]);return e.jsxs(e.Fragment,{children:[e.jsxs(D,{ref:C,children:[e.jsx(Q,{title:"Folders",subtitle:`${o.filter(n=>n.type==="folder").length} folders`,onOpen:x.onTrue,collapse:s.value,onCollapse:s.onToggle}),e.jsx(q,{in:!s.value,unmountOnExit:!0,children:e.jsx(D,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},children:o.filter(n=>n.type==="folder").map(n=>e.jsx(_e,{folder:n,selected:c.includes(n.id),onSelect:()=>g(n.id),onDelete:()=>h(n.id),sx:{maxWidth:"auto"}},n.id))})}),e.jsx(K,{sx:{my:5,borderStyle:"dashed"}}),e.jsx(Q,{title:"Files",subtitle:`${o.filter(n=>n.type!=="folder").length} files`,onOpen:l.onTrue,collapse:r.value,onCollapse:r.onToggle}),e.jsx(q,{in:!r.value,unmountOnExit:!0,children:e.jsx(D,{display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},gap:3,children:o.filter(n=>n.type!=="folder").map(n=>e.jsx(dt,{file:n,selected:c.includes(n.id),onSelect:()=>g(n.id),onDelete:()=>h(n.id),sx:{maxWidth:"auto"}},n.id))})}),!!(c!=null&&c.length)&&e.jsx(ht,{numSelected:c.length,rowCount:o.length,selected:c,onSelectAllItems:n=>p(n,o.map(T=>T.id)),action:e.jsxs(e.Fragment,{children:[e.jsx(F,{size:"small",color:"error",variant:"contained",startIcon:e.jsx(m,{icon:"solar:trash-bin-trash-bold"}),onClick:i,sx:{mr:1},children:"Delete"}),e.jsx(F,{color:"primary",size:"small",variant:"contained",startIcon:e.jsx(m,{icon:"solar:share-bold"}),onClick:a.onTrue,children:"Share"})]})})]}),e.jsx(X,{open:a.value,inviteEmail:y,onChangeInvite:d,onClose:()=>{a.onFalse(),k("")}}),e.jsx(W,{open:l.value,onClose:l.onFalse}),e.jsx(W,{open:x.value,onClose:x.onFalse,title:"New Folder",onCreate:()=>{x.onFalse(),f(""),console.info("CREATE NEW FOLDER",b)},folderName:b,onChangeFolderName:j})]})}function xt({filters:t,onResetPage:o,totalResults:h,sx:i}){const c=u.useCallback(()=>{o(),t.setState({name:""})},[t,o]),g=u.useCallback(r=>{const l=t.state.type.filter(s=>s!==r);o(),t.setState({type:l})},[t,o]),p=u.useCallback(()=>{o(),t.setState({startDate:null,endDate:null})},[t,o]),a=u.useCallback(()=>{o(),t.onResetState()},[t,o]);return e.jsxs(Qe,{totalResults:h,onReset:a,sx:i,children:[e.jsx(z,{label:"Types:",isShow:!!t.state.type.length,children:t.state.type.map(r=>u.createElement($,{...N,key:r,label:r,onDelete:()=>g(r),sx:{textTransform:"capitalize"}}))}),e.jsx(z,{label:"Date:",isShow:!!(t.state.startDate&&t.state.endDate),children:e.jsx($,{...N,label:ne(t.state.startDate,t.state.endDate),onDelete:p})}),e.jsx(z,{label:"Keyword:",isShow:!!t.state.name,children:e.jsx($,{...N,label:t.state.name,onDelete:c})})]})}function mt(){const t=$e({defaultRowsPerPage:10}),o=v(),h=v(),i=v(),[c,g]=u.useState("list"),[p,a]=u.useState(Te),r=Fe({name:"",type:[],startDate:null,endDate:null}),l=De(r.state.startDate,r.state.endDate),s=ut({inputData:p,comparator:ze(t.order,t.orderBy),filters:r.state,dateError:l}),x=Ne(s,t.page,t.rowsPerPage),C=!!r.state.name||r.state.type.length>0||!!r.state.startDate&&!!r.state.endDate,b=!s.length&&C||!s.length,f=u.useCallback((n,T)=>{T!==null&&g(T)},[]),y=u.useCallback(n=>{const T=p.filter(B=>B.id!==n);L.success("Delete success!"),a(T),t.onUpdatePageDeleteRow(x.length)},[x.length,t,p]),k=u.useCallback(()=>{const n=p.filter(T=>!t.selected.includes(T.id));L.success("Delete success!"),a(n),t.onUpdatePageDeleteRows({totalRowsInPage:x.length,totalRowsFiltered:s.length})},[s.length,x.length,t,p]),d=e.jsxs(w,{spacing:2,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},children:[e.jsx(ct,{filters:r,dateError:l,onResetPage:t.onResetPage,openDateRange:o.value,onOpenDateRange:o.onTrue,onCloseDateRange:o.onFalse,options:{types:Se}}),e.jsxs(et,{size:"small",value:c,exclusive:!0,onChange:f,children:[e.jsx(ee,{value:"list",children:e.jsx(m,{icon:"solar:list-bold"})}),e.jsx(ee,{value:"grid",children:e.jsx(m,{icon:"mingcute:dot-grid-fill"})})]})]}),j=e.jsx(xt,{filters:r,totalResults:s.length,onResetPage:t.onResetPage});return e.jsxs(e.Fragment,{children:[e.jsxs(Ie,{children:[e.jsxs(w,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(A,{variant:"h4",children:"File manager"}),e.jsx(F,{variant:"contained",startIcon:e.jsx(m,{icon:"eva:cloud-upload-fill"}),onClick:i.onTrue,children:"Upload"})]}),e.jsxs(w,{spacing:2.5,sx:{my:{xs:3,md:5}},children:[d,C&&j]}),b?e.jsx(Le,{filled:!0,sx:{py:10}}):e.jsx(e.Fragment,{children:c==="list"?e.jsx(it,{table:t,dataFiltered:s,onDeleteRow:y,notFound:b,onOpenConfirm:h.onTrue}):e.jsx(pt,{table:t,dataFiltered:s,onDeleteItem:y,onOpenConfirm:h.onTrue})})]}),e.jsx(W,{open:i.value,onClose:i.onFalse}),e.jsx(V,{open:h.value,onClose:h.onFalse,title:"Delete",content:e.jsxs(e.Fragment,{children:["Are you sure want to delete ",e.jsxs("strong",{children:[" ",t.selected.length," "]})," items?"]}),action:e.jsx(F,{variant:"contained",color:"error",onClick:()=>{k(),h.onFalse()},children:"Delete"})})]})}function ut({inputData:t,comparator:o,filters:h,dateError:i}){const{name:c,type:g,startDate:p,endDate:a}=h,r=t.map((l,s)=>[l,s]);return r.sort((l,s)=>{const x=o(l[0],s[0]);return x!==0?x:l[1]-s[1]}),t=r.map(l=>l[0]),c&&(t=t.filter(l=>l.name.toLowerCase().indexOf(c.toLowerCase())!==-1)),g.length&&(t=t.filter(l=>g.includes(Ee(l.type)))),i||p&&a&&(t=t.filter(l=>Re(l.createdAt,p,a))),t}const gt={title:`File manager | Dashboard - ${Ae.site.name}`};function ao(){return e.jsxs(e.Fragment,{children:[e.jsx(Pe,{children:e.jsxs("title",{children:[" ",gt.title]})}),e.jsx(mt,{})]})}export{ao as default};
