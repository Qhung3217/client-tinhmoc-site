import{cC as R,j as e,B as a,h as m,T as d,ap as B,ad as f,I as h,q as k,cM as g,r as v,cA as G,C as y,w as u,cN as z,H as W}from"./index-DBDTQgzR.js";import{u as _}from"./use-params-DWxX5-f_.js";import{E as H}from"./empty-content-CrThrvhQ.js";import{C as N}from"./custom-breadcrumbs-Cq6vi18c.js";import{P as q,u as F,b as Y}from"./product-skeleton-Bd0YOmyM.js";import{u as I,C as P,a as J,b as K}from"./carousel-progress-bar-C9PBVkT4.js";import{S as O}from"./section-title-DbtCsnO3.js";import{u as U}from"./use-copy-to-clipboard-LhhYpgg1.js";import{a as C}from"./format-number-BCGWgCIZ.js";import{L as w}from"./label-BGslDkJ8.js";import{I as V}from"./image-DnyeokJc.js";import{u as Q,L as X}from"./use-light-box-Cn1L5wfJ.js";import{C as Z}from"./carousel-arrow-buttons-Q2NleaHK.js";import{M as $}from"./markdown-qDu_3wTa.js";import{G as b}from"./Grid2-QA-GbJ9M.js";import{C as ee}from"./Card-mcWuHIxM.js";import{C as se}from"./CardHeader-CIF5Mw-j.js";import"./Link-yd2Vpoa3.js";import"./Skeleton-ClMJhwxT.js";import"./index-DixO9l5f.js";import"./html-to-markdown-DWwIAVnh.js";import"./index-DN576CaX.js";function te({category:s}){const{data:{products:t}}=R(10,0,"",[s]),i=I({slidesToShow:{xs:1,sm:2,md:4,lg:5}});return e.jsxs(a,{sx:{pt:{xs:5,md:10}},children:[e.jsx(O,{sx:{textAlign:"left"},children:"Sản phẩm liên quan"}),e.jsx(a,{component:"div",width:1,sx:{mt:2,px:1},children:e.jsx(a,{sx:{mb:2.5,position:"relative"},width:1,children:e.jsx(P,{carousel:i,children:t.map(r=>e.jsx(q,{product:r,sx:{border:"none"}},r.id))})})})]})}const re="(+84) 0292 654 6543";function oe({product:s,...t}){const{copy:i}=U(),{title:r,price:c,salePercent:o,createdAt:l}=s,{isSale:x,isNew:n,priceSale:p}=F({createdAt:l,price:c,salePercent:o}),j=async()=>{try{await i(re),g.info("Đã sao chép số điện thoại")}catch{g.error("Có lỗi xảy ra!")}},T=async()=>{try{await i(window.location.href),g.info("Đã sao chép đường dẫn")}catch{g.error("Có lỗi xảy ra!")}},L=e.jsxs(a,{sx:{typography:"h5",color:"primary.light"},children:[p&&e.jsx(a,{component:"span",sx:{color:"text.disabled",textDecoration:"line-through",mr:1,typography:"h6"},children:C(p)}),C(c)]}),A=e.jsx(m,{direction:"row",spacing:3,justifyContent:"center",children:e.jsx(f,{sx:{typography:"subtitle2",color:"text.secondary"},onClick:T,startIcon:e.jsx(h,{icon:"solar:share-bold",width:16}),children:"Chia sẻ"})}),D=e.jsxs(m,{sx:{flexDirection:{xs:"column-reverse",sm:"row"}},spacing:2,children:[e.jsx(f,{fullWidth:!0,size:"large",variant:"text",onClick:j,sx:{whiteSpace:"nowrap"},children:"(+84) 0292 654 6543"}),e.jsx(f,{fullWidth:!0,size:"large",variant:"contained",component:k,href:"tel:(+84)02926546543",color:"primary",startIcon:e.jsx(h,{icon:"line-md:phone-call-twotone-loop"}),children:"Liên hệ ngay"})]}),M=(n||x)&&e.jsxs(m,{direction:"row",alignItems:"center",spacing:1,children:[n&&e.jsx(w,{color:"info",children:"Mới"}),x&&e.jsx(w,{color:"error",children:"SALE"})]});return e.jsxs(m,{spacing:3,sx:{pt:3},...t,children:[e.jsxs(m,{spacing:2,alignItems:"flex-start",children:[M,e.jsx(d,{variant:"h5",children:r}),L,A]}),e.jsx(B,{sx:{borderStyle:"dashed"}}),D]})}function ne({images:s}){var c;const t=I({thumbs:{slidesToShow:"auto"}}),i=(s==null?void 0:s.map(o=>({src:o})))||[],r=Q(i);return v.useEffect(()=>{var o;r.open&&((o=t.mainApi)==null||o.scrollTo(r.selected,!0))},[t.mainApi,r.open,r.selected]),e.jsxs(e.Fragment,{children:[e.jsxs(a,{component:"div",children:[e.jsxs(a,{sx:{mb:2.5,position:"relative"},children:[e.jsx(Z,{...t.arrows,options:t.options,totalSlides:t.dots.dotCount,selectedIndex:t.dots.selectedIndex+1,sx:{right:16,bottom:16,position:"absolute"}}),e.jsx(P,{carousel:t,sx:{maxWidth:300,mx:"auto"},children:i.map(o=>e.jsx(V,{alt:o.src,src:o.src,ratio:"2/3",onClick:()=>r.onOpen(o.src),effect:"opacity",sx:{cursor:"zoom-in",maxWidth:300,"& .mnl__image__wrapper":{aspectRatio:"2/3"},"& .lazy-load-image-background.opacity:not(.lazy-load-image-loaded) img":{display:"none"}}},o.src))})]}),e.jsx(J,{ref:t.thumbs.thumbsRef,options:(c=t.options)==null?void 0:c.thumbs,slotProps:{disableMask:!0},sx:{width:360},children:i.map((o,l)=>e.jsx(K,{index:l,src:o.src,selected:l===t.thumbs.selectedIndex,onClick:()=>t.thumbs.onClickThumb(l),sx:{borderRadius:.5,aspectRatio:"2/3",height:"unset"}},o.src))})]}),e.jsx(X,{index:r.selected,slides:i,open:r.open,close:r.onClose,onGetCurrentIndex:o=>r.setSelected(o)})]})}function ie({description:s}){return e.jsx($,{children:s,sx:{p:3,"& p, li, ol":{typography:"body2"},"& ol":{p:0,display:{md:"flex"},listStyleType:"none","& li":{"&:first-of-type":{minWidth:240,mb:{xs:.5,md:0}}}}}})}const S=[{title:"100% original",description:"Chocolate bar candy canes ice cream toffee cookie halvah.",icon:"solar:verified-check-bold"},{title:"10 days replacement",description:"Marshmallow biscuit donut dragée fruitcake wafer.",icon:"solar:clock-circle-bold"},{title:"Year warranty",description:"Cotton candy gingerbread cake I love sugar sweet.",icon:"solar:shield-check-bold"}];function ae({product:s,loading:t,error:i}){var o,l,x;const{categoryList:{list:r}}=G(),c=v.useMemo(()=>{var n;return s!=null&&s.category&&((n=r.find(p=>p.categories.find(j=>j.name===s.category.name)))==null?void 0:n.name)||""},[r,s==null?void 0:s.category]);return t?e.jsx(y,{sx:{mt:5,mb:10},children:e.jsx(Y,{})}):i?e.jsx(y,{sx:{mt:5,mb:10},children:e.jsx(H,{filled:!0,title:"Không tìm thấy sản phẩm !",action:e.jsx(f,{component:k,href:u.landing.product.root,startIcon:e.jsx(h,{width:16,icon:"eva:arrow-ios-back-fill"}),sx:{mt:3},children:"Sản phẩm khác"}),sx:{py:10}})}):e.jsxs(y,{sx:{mt:5,mb:10},children:[e.jsxs(b,{container:!0,spacing:{xs:3,md:5,lg:8},children:[e.jsx(b,{xs:12,md:6,lg:6,children:e.jsx(ne,{images:s!=null&&s.thumbnail?[s.thumbnail,...s.images]:[]})}),e.jsxs(b,{xs:12,md:6,lg:6,children:[e.jsx(N,{links:[{name:"Sản phẩm",href:u.landing.product.root},{name:((o=s==null?void 0:s.category)==null?void 0:o.name)||"Danh mục",href:u.landing.product.subCategory(c,((l=s==null?void 0:s.category)==null?void 0:l.name)||"")},{name:(s==null?void 0:s.title)||"Sản phẩm"}],sx:{mt:1,"& .MuiBreadcrumbs-ol":{columnGap:"4px"}}}),s&&e.jsx(oe,{product:s}),e.jsx(a,{gap:1,gridTemplateColumns:{md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)"},sx:{mt:10,display:{md:"grid",xs:"none"}},children:S.map(n=>e.jsxs(a,{sx:{textAlign:"left",px:1},children:[e.jsxs(m,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(h,{icon:n.icon,width:32,sx:{color:"primary.main"}}),e.jsx(d,{variant:"subtitle1",children:n.title})]}),e.jsx(d,{variant:"body2",sx:{color:"text.secondary"},children:n.description})]},n.title))})]})]}),e.jsx(a,{gap:5,gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(3, 1fr)"},sx:{mt:10,display:{md:"none",xs:"grid"}},children:S.map(n=>e.jsxs(a,{sx:{textAlign:"center",px:5},children:[e.jsx(h,{icon:n.icon,width:32,sx:{color:"primary.main"}}),e.jsx(d,{variant:"subtitle1",sx:{mb:1,mt:2},children:n.title}),e.jsx(d,{variant:"body2",sx:{color:"text.secondary"},children:n.description})]},n.title))}),e.jsxs(ee,{sx:{mt:10},children:[e.jsx(se,{title:"Mô tả"}),e.jsx(ie,{description:s==null?void 0:s.content})]}),e.jsx(te,{category:((x=s==null?void 0:s.category)==null?void 0:x.name)||""})]})}function Ae(){const{slug:s=""}=_(),{product:t,productLoading:i,productError:r}=z(s);return e.jsxs(e.Fragment,{children:[e.jsx(W,{children:e.jsxs("title",{children:[" ",(t==null?void 0:t.title)||"Sản phẩm"]})}),e.jsx(ae,{product:t,loading:i,error:r})]})}export{Ae as default};
