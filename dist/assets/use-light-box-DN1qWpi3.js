import{r as t,j as A,I as Y,B as ct}from"./index-u4c5uTy0.js";import{c as V,u as N,I as se,a as le,P as xe,i as re,b as ie,m as ce,d as q,e as ee,f as J,g as j,h as M,C as Ve,j as te,k as He,l as K,n as $e,o as D,r as Ye,p as be,q as at,s as ae,E as ut,t as dt,U as ht,v as mt,w as ft,x as ve,y as pt,A as je,z as Be,B as Ue,D as Xe,F as Se,G as z,H as ye,J as bt,K as vt,S as Pe,L as Ie,M as gt,N as Et,O as wt,Q as ne,R as oe,T as We,V as Ct,W as Ge,X as xt,Y as St,Z as yt,_ as Pt,$ as It,a0 as _t,a1 as kt,a2 as Mt,a3 as Ft,a4 as Tt,a5 as Lt,a6 as ue,a7 as Rt,a8 as Dt}from"./index-CxQHrayw.js";const Nt={maxZoomPixelRatio:1,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:500,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,scrollToZoom:!1},qe=e=>({...Nt,...e});function Zt(e,n,s,o){const r=t.useRef(),l=t.useRef(),{zoom:i}=N().animation,a=ft(),c=D(()=>{var d,u,b;if((d=r.current)===null||d===void 0||d.cancel(),r.current=void 0,l.current&&(o!=null&&o.current)){try{r.current=(b=(u=o.current).animate)===null||b===void 0?void 0:b.call(u,[{transform:l.current},{transform:`scale(${e}) translateX(${n}px) translateY(${s}px)`}],{duration:a?0:i??500,easing:r.current?"ease-out":"ease-in-out"})}catch(p){console.error(p)}l.current=void 0,r.current&&(r.current.onfinish=()=>{r.current=void 0})}});return ee(c,[e,n,s,c]),t.useCallback(()=>{l.current=o!=null&&o.current?window.getComputedStyle(o.current).transform:void 0},[o])}function Ot(e,n){const{on:s}=N(),o=D(()=>{var r;n||(r=s.zoom)===null||r===void 0||r.call(s,{zoom:e})});t.useEffect(o,[e,o])}function de(){const{zoom:e}=N();return qe(e)}function zt(e,n){var s,o;let r={width:0,height:0},l={width:0,height:0};const{currentSlide:i}=q(),{imageFit:a}=N().carousel,{maxZoomPixelRatio:c}=de();if(e&&i){const u={...i,...n};if(re(u)){const b=$e(u,a),p=Math.max(...(((s=u.srcSet)===null||s===void 0?void 0:s.map(E=>E.width))||[]).concat(u.width?[u.width]:[])),g=Math.max(...(((o=u.srcSet)===null||o===void 0?void 0:o.map(E=>E.height))||[]).concat(u.height?[u.height]:[]));p>0&&g>0&&e.width>0&&e.height>0&&(l=b?{width:Math.round(Math.min(p,e.width/e.height*g)),height:Math.round(Math.min(g,e.height/e.width*p))}:{width:p,height:g},l={width:l.width*c,height:l.height*c},r=b?{width:Math.min(e.width,l.width,p),height:Math.min(e.height,l.height,g)}:{width:Math.round(Math.min(e.width,e.height/g*p,p)),height:Math.round(Math.min(e.height,e.width/p*g,g))})}}const d=r.width?Math.max(Ye(l.width/r.width,5),1):1;return{imageRect:r,maxZoom:d}}function _e(e,n){return((e.clientX-n.clientX)**2+(e.clientY-n.clientY)**2)**.5}function At(e,n,s,o,r,l){const i=t.useRef([]),a=t.useRef(0),c=t.useRef(),{globalIndex:d}=q(),{getOwnerWindow:u}=be(),{containerRef:b,subscribeSensors:p}=K(),{keyboardMoveDistance:g,zoomInMultiplier:E,wheelZoomDistanceFactor:P,scrollToZoom:m,doubleTapDelay:I,doubleClickDelay:w,doubleClickMaxStops:h,pinchZoomDistanceFactor:S}=de(),y=t.useCallback(f=>{if(b.current){const{pageX:v,pageY:C}=f,{scrollX:k,scrollY:L}=u(),{left:$,top:U,width:X,height:he}=b.current.getBoundingClientRect();return[v-$-k-X/2,C-U-L-he/2]}return[]},[b,u]),_=D(f=>{const v=()=>{f.preventDefault(),f.stopPropagation()};if(e>1){const L=($,U)=>{v(),r($,U)};f.key==="ArrowDown"?L(0,g):f.key==="ArrowUp"?L(0,-g):f.key==="ArrowLeft"?L(-g,0):f.key==="ArrowRight"&&L(g,0)}const C=L=>{v(),o(L)},k=()=>f.getModifierState("Meta");f.key==="+"||f.key==="="&&k()?C(e*E):f.key==="-"||f.key==="_"&&k()?C(e/E):f.key==="0"&&k()&&C(1)}),Z=D(f=>{if((f.ctrlKey||m)&&Math.abs(f.deltaY)>Math.abs(f.deltaX)){f.stopPropagation(),o(e*(1-f.deltaY/P),!0,...y(f));return}e>1&&(f.stopPropagation(),m||r(f.deltaX,f.deltaY))}),O=t.useCallback(f=>{const v=i.current;v.splice(0,v.length,...v.filter(C=>C.pointerId!==f.pointerId))},[]),x=t.useCallback(f=>{O(f),f.persist(),i.current.push(f)},[O]),F=D(f=>{var v;const C=i.current;if(!(!((v=l==null?void 0:l.current)===null||v===void 0)&&v.contains(f.target)))return;e>1&&f.stopPropagation();const{timeStamp:k}=f;C.length===0&&k-a.current<(f.pointerType==="touch"?I:w)?(a.current=0,o(e!==n?e*Math.max(n**(1/h),E):1,!1,...y(f))):a.current=k,x(f),C.length===2&&(c.current=_e(C[0],C[1]))}),B=D(f=>{const v=i.current,C=v.find(k=>k.pointerId===f.pointerId);if(v.length===2&&c.current){f.stopPropagation(),x(f);const k=_e(v[0],v[1]),L=k-c.current;Math.abs(L)>0&&(o(e*(1+L/S),!0,...v.map($=>y($)).reduce(($,U)=>U.map((X,he)=>$[he]+X/2))),c.current=k);return}e>1&&(f.stopPropagation(),C&&(v.length===1&&r((C.clientX-f.clientX)/e,(C.clientY-f.clientY)/e),x(f)))}),T=t.useCallback(f=>{const v=i.current;v.length===2&&v.find(C=>C.pointerId===f.pointerId)&&(c.current=void 0),O(f)},[O]),H=t.useCallback(()=>{const f=i.current;f.splice(0,f.length),a.current=0,c.current=void 0},[]);at(p,F,B,T,s),t.useEffect(H,[d,H]),t.useEffect(()=>s?()=>{}:ae(H,p(dt,_),p(ut,Z)),[s,p,H,_,Z])}function Vt(e,n,s){const[o,r]=t.useState(1),[l,i]=t.useState(0),[a,c]=t.useState(0),d=Zt(o,l,a,s),{currentSlide:u,globalIndex:b}=q(),{containerRect:p,slideRect:g}=K(),{zoomInMultiplier:E}=de(),P=u&&re(u)?u.src:void 0,m=!P||!(s!=null&&s.current);ee(()=>{r(1),i(0),c(0)},[b,P]);const I=t.useCallback((_,Z,O)=>{const x=O||o,F=l-(_||0),B=a-(Z||0),T=(e.width*x-g.width)/2/x,H=(e.height*x-g.height)/2/x;i(Math.min(Math.abs(F),Math.max(T,0))*Math.sign(F)),c(Math.min(Math.abs(B),Math.max(H,0))*Math.sign(B))},[o,l,a,g,e.width,e.height]),w=t.useCallback((_,Z,O,x)=>{const F=Ye(Math.min(Math.max(_+.001<n?_:n,1),n),5);F!==o&&(Z||d(),I(O?O*(1/o-1/F):0,x?x*(1/o-1/F):0,F),r(F))},[o,n,I,d]),h=D(()=>{o>1&&(o>n&&w(n,!0),I())});ee(h,[p.width,p.height,h]);const S=t.useCallback(()=>w(o*E),[o,E,w]),y=t.useCallback(()=>w(o/E),[o,E,w]);return{zoom:o,offsetX:l,offsetY:a,disabled:m,changeOffsets:I,changeZoom:w,zoomIn:S,zoomOut:y}}const Ke=t.createContext(null),ge=ce("useZoom","ZoomControllerContext",Ke);function Ht({children:e}){const[n,s]=t.useState(),{slideRect:o}=K(),{imageRect:r,maxZoom:l}=zt(o,n==null?void 0:n.imageDimensions),{zoom:i,offsetX:a,offsetY:c,disabled:d,changeZoom:u,changeOffsets:b,zoomIn:p,zoomOut:g}=Vt(r,l,n==null?void 0:n.zoomWrapperRef);Ot(i,d),At(i,l,d,u,b,n==null?void 0:n.zoomWrapperRef);const E=t.useMemo(()=>({zoom:i,maxZoom:l,offsetX:a,offsetY:c,disabled:d,zoomIn:p,zoomOut:g,changeZoom:u}),[i,l,a,c,d,p,g,u]);t.useImperativeHandle(de().ref,()=>E,[E]);const P=t.useMemo(()=>({...E,setZoomWrapper:s}),[E,s]);return t.createElement(Ke.Provider,{value:P},e)}const $t=V("ZoomIn",t.createElement(t.Fragment,null,t.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),t.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))),Yt=V("ZoomOut",t.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})),ke=t.forwardRef(function({zoomIn:n,onLoseFocus:s},o){const r=t.useRef(!1),l=t.useRef(!1),{zoom:i,maxZoom:a,zoomIn:c,zoomOut:d,disabled:u}=ge(),{render:b}=N(),p=u||(n?i>=a:i<=1);return t.useEffect(()=>{p&&r.current&&l.current&&s(),p||(r.current=!0)},[p,s]),t.createElement(se,{ref:o,disabled:p,label:n?"Zoom in":"Zoom out",icon:n?$t:Yt,renderIcon:n?b.iconZoomIn:b.iconZoomOut,onClick:n?c:d,onFocus:()=>{l.current=!0},onBlur:()=>{l.current=!1}})});function jt(){const e=t.useRef(null),n=t.useRef(null),{focus:s}=K(),o=t.useCallback(i=>{var a,c;!((a=i.current)===null||a===void 0)&&a.disabled?s():(c=i.current)===null||c===void 0||c.focus()},[s]),r=t.useCallback(()=>o(e),[o]),l=t.useCallback(()=>o(n),[o]);return t.createElement(t.Fragment,null,t.createElement(ke,{zoomIn:!0,ref:e,onLoseFocus:l}),t.createElement(ke,{ref:n,onLoseFocus:r}))}function Bt(){const{render:e}=N(),n=ge();return e.buttonZoom?t.createElement(t.Fragment,null,e.buttonZoom(n)):t.createElement(jt,null)}function Ut(e){var n;return(((n=e.srcSet)===null||n===void 0?void 0:n.length)||0)>0}function Xt({current:e,preload:n},{type:s,source:o}){switch(s){case"fetch":return e?{current:e,preload:o}:{current:o};case"done":return o===n?{current:o}:{current:e,preload:n};default:throw new Error(ht)}}function Wt(e){var n,s;const[{current:o,preload:r},l]=t.useReducer(Xt,{}),{slide:i,rect:a,imageFit:c,render:d}=e,u=i.srcSet.sort((S,y)=>S.width-y.width),b=(n=i.width)!==null&&n!==void 0?n:u[u.length-1].width,p=(s=i.height)!==null&&s!==void 0?s:u[u.length-1].height,g=$e(i,c),E=Math.max(...u.map(S=>S.width)),P=Math.min((g?Math.max:Math.min)(a.width,b*(a.height/p)),E),m=mt(),I=D(()=>{var S;const y=(S=u.find(_=>_.width>=P*m))!==null&&S!==void 0?S:u[u.length-1];(!o||u.findIndex(_=>_.src===o)<u.findIndex(_=>_===y))&&l({type:"fetch",source:y.src})});ee(I,[a.width,a.height,m,I]);const w=D(S=>l({type:"done",source:S})),h={WebkitTransform:"translateZ(0)"};return g||Object.assign(h,a.width/a.height<b/p?{width:"100%",height:"auto"}:{width:"auto",height:"100%"}),t.createElement(t.Fragment,null,r&&r!==o&&t.createElement(J,{key:"preload",...e,slide:{...i,src:r,srcSet:void 0},style:{position:"absolute",visibility:"hidden",...h},onLoad:()=>w(r),render:{...d,iconLoading:()=>null,iconError:()=>null}}),o&&t.createElement(J,{key:"current",...e,slide:{...i,src:o,srcSet:void 0},style:h}))}function Gt({render:e,slide:n,offset:s,rect:o}){var r;const[l,i]=t.useState(),a=t.useRef(null),{zoom:c,maxZoom:d,offsetX:u,offsetY:b,setZoomWrapper:p}=ge(),{carousel:g,on:E}=N(),{currentIndex:P}=q();ee(()=>s===0?(p({zoomWrapperRef:a,imageDimensions:l}),()=>p(void 0)):()=>{},[s,l,p]);let m=(r=e.slide)===null||r===void 0?void 0:r.call(e,{slide:n,offset:s,rect:o,zoom:c,maxZoom:d});if(!m&&re(n)){const I={slide:n,offset:s,rect:o,render:e,imageFit:g.imageFit,imageProps:g.imageProps,onClick:s===0?()=>{var w;return(w=E.click)===null||w===void 0?void 0:w.call(E,{index:P})}:void 0};m=Ut(n)?t.createElement(Wt,{...I,slide:n,rect:s===0?{width:o.width*c,height:o.height*c}:o}):t.createElement(J,{onLoad:w=>i({width:w.naturalWidth,height:w.naturalHeight}),...I})}return m?t.createElement("div",{ref:a,className:j(M(He),M(te),M(Ve)),style:s===0?{transform:`scale(${c}) translateX(${u}px) translateY(${b}px)`}:void 0},m):null}const Me=({augment:e,addModule:n})=>{e(({zoom:s,toolbar:o,render:r,controller:l,...i})=>{const a=qe(s);return{zoom:a,toolbar:le(o,xe,t.createElement(Bt,null)),render:{...r,slide:c=>{var d;return re(c.slide)?t.createElement(Gt,{render:r,...c}):(d=r.slide)===null||d===void 0?void 0:d.call(r,c)}},controller:{...l,preventDefaultWheelY:a.scrollToZoom},...i}}),n(ie(xe,Ht))},qt={controls:!0,playsInline:!0},Je=e=>({...qt,...e});function Kt(){const{video:e}=N();return Je(e)}function Jt({slide:e,offset:n}){const s=Kt(),{publish:o}=ve(),{setContainerRef:r,containerRect:l}=pt(),i=t.useRef(null);t.useEffect(()=>{n!==0&&i.current&&!i.current.paused&&i.current.pause()},[n]),t.useEffect(()=>{n===0&&i.current&&(e.autoPlay||s.autoPlay)&&(o(je),i.current.play().catch(()=>{}))},[n,s.autoPlay,e.autoPlay,o]);const a=D(m=>{n===0&&(s.autoPlay||e.autoPlay)&&m.paused&&m.play().catch(()=>{})}),c=t.useCallback(m=>{i.current=m,m&&a(m)},[a]),{width:d,height:u,poster:b,sources:p}=e,g=()=>{const m={};if(m.style={maxWidth:"100%",maxHeight:"100%"},d&&u&&l){const I=d/u>l.width/l.height,w=I?l.width:Math.round(l.height/u*d),h=I?Math.round(l.width/d*u):l.height;m.width=w,m.height=h,m.style.width=w,m.style.height=h}return m},E=m=>e[m]===!1?null:e[m]===!0?{[m]:!0}:s[m]===!1?null:s[m]===!0?{[m]:!0}:null,P=m=>s[m]||e[m]?{[m]:e[m]||s[m]}:null;return t.createElement(t.Fragment,null,p&&t.createElement("div",{ref:r,style:{width:"100%",height:"100%",...d?{maxWidth:`${d}px`}:null},className:j(M("video_container"),M(te),M(Ve))},l&&t.createElement("video",{ref:c,poster:b,...g(),...E("controls"),...E("playsInline"),...E("loop"),...E("muted"),...E("playsInline"),...E("disablePictureInPicture"),...E("disableRemotePlayback"),...P("controlsList"),...P("crossOrigin"),...P("preload"),onPlay:()=>{o(Be)},onEnded:()=>{o(Ue)}},p.map(({src:m,type:I,media:w})=>t.createElement("source",{key:[m,I,w].filter(Boolean).join("|"),src:m,type:I,media:w})))))}function Qt(e){return e.type==="video"}function Fe({augment:e}){e(({render:{slide:n,...s},video:o,...r})=>({render:{slide:({slide:l,offset:i,rect:a})=>{var c;return Qt(l)?t.createElement(Jt,{key:(c=l.sources)===null||c===void 0?void 0:c.map(d=>d.src).join("|"),slide:l,offset:i}):n==null?void 0:n({slide:l,offset:i,rect:a})},...s},video:Je(o),...r}))}const Q=e=>M(`slide_${e}`),pe={descriptionTextAlign:"start",descriptionMaxLines:3,showToggle:!1,hidden:!1},Ee=e=>({...pe,...e});function en(){const{captions:e}=N();return Ee(e)}const Qe=t.createContext(null),we=ce("useCaptions","CaptionsContext",Qe);function tn({captions:e,children:n}){const{ref:s,hidden:o}=Ee(e),[r,l]=t.useState(!o),i=t.useMemo(()=>({visible:r,show:()=>l(!0),hide:()=>l(!1)}),[r]);return t.useImperativeHandle(s,()=>i,[i]),t.createElement(Qe.Provider,{value:i},n)}function nn({title:e}){const{toolbarWidth:n}=K(),{styles:s}=N(),{visible:o}=we();return o?t.createElement("div",{style:s.captionsTitleContainer,className:j(Q("captions_container"),Q("title_container"))},t.createElement("div",{className:Q("title"),style:{...n?{[z("toolbar_width")]:`${n}px`}:null,...s.captionsTitle}},e)):null}function on({description:e}){const{descriptionTextAlign:n,descriptionMaxLines:s}=en(),{styles:o}=N(),{visible:r}=we();return r?t.createElement("div",{style:o.captionsDescriptionContainer,className:j(Q("captions_container"),Q("description_container"))},t.createElement("div",{className:Q("description"),style:{...n!==pe.descriptionTextAlign||s!==pe.descriptionMaxLines?{[z("slide_description_text_align")]:n,[z("slide_description_max_lines")]:s}:null,...o.captionsDescription}},typeof e=="string"?e.split(`
`).flatMap((l,i)=>[...i>0?[t.createElement("br",{key:i})]:[],l]):e)):null}const et=()=>t.createElement(t.Fragment,null,t.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),t.createElement("path",{d:"M7 15h3c.55 0 1-.45 1-1v-1H9.5v.5h-2v-3h2v.5H11v-1c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm7 0h3c.55 0 1-.45 1-1v-1h-1.5v.5h-2v-3h2v.5H18v-1c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1z"})),sn=V("CaptionsVisible",et()),ln=Xe("CaptionsVisible",et());function rn(){const{visible:e,show:n,hide:s}=we(),{render:o}=N();return o.buttonCaptions?t.createElement(t.Fragment,null,o.buttonCaptions({visible:e,show:n,hide:s})):t.createElement(se,{label:e?"Hide captions":"Show captions",icon:e?sn:ln,renderIcon:e?o.iconCaptionsVisible:o.iconCaptionsHidden,onClick:e?s:n})}function Te({augment:e,addModule:n}){e(({captions:s,render:{slideFooter:o,...r},toolbar:l,...i})=>{const a=Ee(s);return{render:{slideFooter:({slide:c})=>t.createElement(t.Fragment,null,o==null?void 0:o({slide:c}),c.title&&t.createElement(nn,{title:c.title}),c.description&&t.createElement(on,{description:c.description})),...r},toolbar:le(l,Se,a.showToggle?t.createElement(rn,null):null),captions:a,...i}}),n(ie(Se,tn))}const cn={autoplay:!1,delay:3e3,ref:null},tt=e=>({...cn,...e}),nt=t.createContext(null),an=ce("useSlideshow","SlideshowContext",nt);function un({slideshow:e,carousel:{finite:n},on:s,children:o}){const{autoplay:r,delay:l,ref:i}=tt(e),a=t.useRef(r),[c,d]=t.useState(r),u=t.useRef(),b=t.useRef(),{slides:p,currentIndex:g}=q(),{setTimeout:E,clearTimeout:P}=vt(),{subscribe:m}=ve(),{next:I}=K(),w=p.length===0||n&&g===p.length-1,h=t.useCallback(()=>{!c&&!w&&d(!0)},[c,w]),S=t.useCallback(()=>{c&&d(!1)},[c]),y=t.useCallback(()=>{P(u.current),u.current=void 0},[P]),_=D(()=>{y(),!(!c||w||b.current===Pe||b.current===Ie)&&(u.current=E(()=>{c&&(b.current=void 0,I())},l))});t.useEffect(_,[g,c,_]),t.useEffect(()=>{c&&w&&d(!1)},[g,c,w]);const Z=D(()=>{var F;return(F=s.slideshowStart)===null||F===void 0?void 0:F.call(s)}),O=D(()=>{var F;return(F=s.slideshowStop)===null||F===void 0?void 0:F.call(s)});t.useEffect(()=>{c?Z():a.current&&O(),a.current=c},[c,Z,O]),t.useEffect(()=>ae(y,m(je,()=>{b.current=Pe,y()}),m(Be,()=>{b.current=Ie,y()}),m(Et,()=>{b.current=wt,_()}),m(Ue,()=>{b.current=gt,_()})),[m,y,_]);const x=t.useMemo(()=>({playing:c,disabled:w,play:h,pause:S}),[c,w,h,S]);return t.useImperativeHandle(i,()=>x,[x]),t.createElement(nt.Provider,{value:x},o)}const dn=V("Play",t.createElement("path",{d:"M8 5v14l11-7z"})),hn=V("Pause",t.createElement("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}));function mn(){const{playing:e,disabled:n,play:s,pause:o}=an(),{render:r}=N(),l=bt(K().focus,n);return r.buttonSlideshow?t.createElement(t.Fragment,null,r.buttonSlideshow({playing:e,disabled:n,play:s,pause:o})):t.createElement(se,{label:e?"Pause":"Play",icon:e?hn:dn,renderIcon:e?r.iconSlideshowPause:r.iconSlideshowPlay,onClick:e?o:s,disabled:n,...l})}function Le({augment:e,addModule:n}){e(({slideshow:s,toolbar:o,...r})=>({toolbar:le(o,ye,t.createElement(mn,null)),slideshow:tt(s),...r})),n(ie(ye,un))}const fn={auto:!1,ref:null},ot=e=>({...fn,...e}),st=t.createContext(null),pn=ce("useFullscreen","FullscreenContext",st);function bn({fullscreen:e,on:n,children:s}){const{auto:o,ref:r}=ot(e),l=t.useRef(null),[i,a]=t.useState(),[c,d]=t.useState(!1),u=t.useRef(!1),{getOwnerDocument:b}=be();ee(()=>{var h,S,y,_;const Z=b();a(!((_=(y=(S=(h=Z.fullscreenEnabled)!==null&&h!==void 0?h:Z.webkitFullscreenEnabled)!==null&&S!==void 0?S:Z.mozFullScreenEnabled)!==null&&y!==void 0?y:Z.msFullscreenEnabled)!==null&&_!==void 0&&_))},[b]);const p=t.useCallback(()=>{var h;const S=b(),y=S.fullscreenElement||S.webkitFullscreenElement||S.mozFullScreenElement||S.msFullscreenElement;return((h=y==null?void 0:y.shadowRoot)===null||h===void 0?void 0:h.fullscreenElement)||y},[b]),g=t.useCallback(()=>{const h=l.current;try{h.requestFullscreen?h.requestFullscreen().catch(()=>{}):h.webkitRequestFullscreen?h.webkitRequestFullscreen():h.mozRequestFullScreen?h.mozRequestFullScreen():h.msRequestFullscreen&&h.msRequestFullscreen()}catch{}},[]),E=t.useCallback(()=>{if(!p())return;const h=b();try{h.exitFullscreen?h.exitFullscreen().catch(()=>{}):h.webkitExitFullscreen?h.webkitExitFullscreen():h.mozCancelFullScreen?h.mozCancelFullScreen():h.msExitFullscreen&&h.msExitFullscreen()}catch{}},[p,b]);t.useEffect(()=>{const h=b(),S=()=>{d(p()===l.current)};return ae(...["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"].map(y=>(h.addEventListener(y,S),()=>h.removeEventListener(y,S))))},[p,b]);const P=D(()=>{var h;return(h=n.enterFullscreen)===null||h===void 0?void 0:h.call(n)}),m=D(()=>{var h;return(h=n.exitFullscreen)===null||h===void 0?void 0:h.call(n)});t.useEffect(()=>{c&&(u.current=!0),u.current&&(c?P:m)()},[c,P,m]);const I=D(()=>{var h;return(h=o?g:null)===null||h===void 0||h(),E});t.useEffect(I,[I]);const w=t.useMemo(()=>({fullscreen:c,disabled:i,enter:g,exit:E}),[c,i,g,E]);return t.useImperativeHandle(r,()=>w,[w]),t.createElement("div",{ref:l,className:j(M(ne),M(He))},t.createElement(st.Provider,{value:w},s))}const vn=V("EnterFullscreen",t.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})),gn=V("ExitFullscreen",t.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}));function En(){var e;const{fullscreen:n,disabled:s,enter:o,exit:r}=pn(),{render:l}=N();return s?null:l.buttonFullscreen?t.createElement(t.Fragment,null,(e=l.buttonFullscreen)===null||e===void 0?void 0:e.call(l,{fullscreen:n,disabled:s,enter:o,exit:r})):t.createElement(se,{disabled:s,label:n?"Exit Fullscreen":"Enter Fullscreen",icon:n?gn:vn,renderIcon:n?l.iconExitFullscreen:l.iconEnterFullscreen,onClick:n?r:o})}function Re({augment:e,contains:n,addParent:s}){e(({fullscreen:o,toolbar:r,...l})=>({toolbar:le(r,ne,t.createElement(En,null)),fullscreen:ot(o),...l})),s(n(oe)?oe:We,ie(ne,bn))}const W={ref:null,position:"bottom",width:120,height:80,border:1,borderRadius:4,padding:4,gap:16,imageFit:"contain",vignette:!0,hidden:!1,showToggle:!1},Ce=e=>({...W,...e});function lt(){const{thumbnails:e}=N();return Ce(e)}const G=e=>Ge(oe,e),R=e=>G(Ge("thumbnail",e)),wn=V("VideoThumbnail",t.createElement("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})),Cn=V("UnknownThumbnail",t.createElement("path",{d:"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"}));function xn({slide:e,render:n,rect:s,imageFit:o}){var r;const l=(r=n.thumbnail)===null||r===void 0?void 0:r.call(n,{slide:e,render:n,rect:s,imageFit:o});if(l)return l;const i={render:n,rect:s,imageFit:o};if(e.thumbnail)return t.createElement(J,{slide:{src:e.thumbnail},...i});if(re(e))return t.createElement(J,{slide:e,...i});const a=M(R(Rt));return e.type==="video"?t.createElement(t.Fragment,null,e.poster&&t.createElement(J,{slide:{src:e.poster},...i}),t.createElement(wn,{className:a})):t.createElement(Cn,{className:a})}const Sn=ue("active"),me=ue("fadein"),fe=ue("fadeout"),yn=ue("placeholder"),De="delay",Ne="duration";function Pn({slide:e,onClick:n,active:s,fadeIn:o,fadeOut:r,placeholder:l,onLoseFocus:i}){const a=t.useRef(null),{render:c,styles:d}=N(),{getOwnerDocument:u}=be(),{width:b,height:p,imageFit:g}=lt(),E={width:b,height:p},P=D(i);return t.useEffect(()=>{r&&u().activeElement===a.current&&P()},[r,P,u]),t.createElement("button",{ref:a,type:"button",className:j(M(te),M(R()),s&&M(R(Sn())),o&&M(R(me())),r&&M(R(fe())),l&&M(R(yn()))),style:{...o?{[z(R(me(Ne)))]:`${o.duration}ms`,[z(R(me(De)))]:`${o.delay}ms`}:null,...r?{[z(R(fe(Ne)))]:`${r.duration}ms`,[z(R(fe(De)))]:`${r.delay}ms`}:null,...d.thumbnail},onClick:n},e&&xn({slide:e,render:c,rect:E,imageFit:g}))}function Ze(e){return["top","bottom"].includes(e)}function Oe(e,n){return n+2*(e.border+e.padding)+e.gap}function In(e){const{thumbnail:n,poster:s}=e||{thumbnail:"placeholder"};return typeof n=="string"&&n||typeof s=="string"&&s||e&&Ft(e)||void 0}function ze({visible:e,containerRef:n}){const s=t.useRef(null),o=xt(),{publish:r,subscribe:l}=ve(),{carousel:i,styles:a}=N(),{slides:c,globalIndex:d,animation:u}=q(),{registerSensors:b,subscribeSensors:p}=St();yt(p);const g=lt(),{position:E,width:P,height:m,border:I,borderStyle:w,borderColor:h,borderRadius:S,padding:y,gap:_,vignette:Z}=g,O=(u==null?void 0:u.duration)||0,x=O>0&&(u==null?void 0:u.increment)||0,{prepareAnimation:F}=Pt(s,v=>({keyframes:Ze(E)?[{transform:`translateX(${(o?-1:1)*Oe(g,P)*x+v}px)`},{transform:"translateX(0)"}]:[{transform:`translateY(${Oe(g,m)*x+v}px)`},{transform:"translateY(0)"}],duration:O,easing:u==null?void 0:u.easing})),B=D(()=>{let v=0;if(n.current&&s.current){const C=n.current.getBoundingClientRect(),k=s.current.getBoundingClientRect();v=Ze(E)?k.left-C.left-(C.width-k.width)/2:k.top-C.top-(C.height-k.height)/2}F(v)});t.useEffect(()=>ae(l(It,B)),[l,B]);const T=_t(i,c),H=[];if(kt(c))for(let v=d-T-Math.abs(x);v<=d+T+Math.abs(x);v+=1){const k=i.finite&&(v<0||v>c.length-1)||x<0&&v<d-T||x>0&&v>d+T?null:Mt(c,v),L=[`${v}`,In(k)].filter(Boolean).join("|");H.push({key:L,index:v,slide:k})}const f=v=>()=>{v>d?r(Tt,{count:v-d}):v<d&&r(Lt,{count:d-v})};return t.createElement("div",{className:j(M(G("container")),M(te)),style:{...e?null:{display:"none"},...P!==W.width?{[z(R("width"))]:`${P}px`}:null,...m!==W.height?{[z(R("height"))]:`${m}px`}:null,...I!==W.border?{[z(R("border"))]:`${I}px`}:null,...w?{[z(R("border_style"))]:w}:null,...h?{[z(R("border_color"))]:h}:null,...S!==W.borderRadius?{[z(R("border_radius"))]:`${S}px`}:null,...y!==W.padding?{[z(R("padding"))]:`${y}px`}:null,..._!==W.gap?{[z(R("gap"))]:`${_}px`}:null,...a.thumbnailsContainer}},t.createElement("nav",{ref:s,style:a.thumbnailsTrack,className:j(M(G("track")),M(te)),tabIndex:-1,...b},H.map(({key:v,index:C,slide:k})=>{const L=O/Math.abs(x||1),$=x>0&&C>d+T-x&&C<=d+T||x<0&&C<d-T-x&&C>=d-T?{duration:L,delay:((x>0?C-(d+T-x):d-T-x-C)-1)*L}:void 0,U=x>0&&C<d-T||x<0&&C>d+T?{duration:L,delay:(x>0?x-(d-T-C):-x-(C-(d+T)))*L}:void 0;return t.createElement(Pn,{key:v,slide:k,active:C===d,fadeIn:$,fadeOut:U,placeholder:!k,onClick:f(C),onLoseFocus:()=>{var X;return(X=s.current)===null||X===void 0?void 0:X.focus()}})})),Z&&t.createElement("div",{className:M(G("vignette"))}))}const rt=t.createContext(null),_n=ce("useThumbnails","ThumbnailsContext",rt);function kn({children:e,...n}){const{ref:s,position:o,hidden:r}=Ce(n.thumbnails),[l,i]=t.useState(!r),a=t.useRef(null),c=t.useMemo(()=>({visible:l,show:()=>i(!0),hide:()=>i(!1)}),[l]);return t.useImperativeHandle(s,()=>c,[c]),t.createElement(Ct,{...n},t.createElement(rt.Provider,{value:c},t.createElement("div",{ref:a,className:j(M(G()),M(G(`${o}`)))},["start","top"].includes(o)&&t.createElement(ze,{containerRef:a,visible:l}),t.createElement("div",{className:M(G("wrapper"))},e),["end","bottom"].includes(o)&&t.createElement(ze,{containerRef:a,visible:l}))))}const it=()=>t.createElement(t.Fragment,null,t.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),t.createElement("path",{d:"M5 14h4v3h-4zM10 14h4v3h-4zM15 14h4v3h-4z"})),Mn=V("ThumbnailsVisible",it()),Fn=Xe("ThumbnailsHidden",it());function Tn(){const{visible:e,show:n,hide:s}=_n(),{render:o}=N();return o.buttonThumbnails?t.createElement(t.Fragment,null,o.buttonThumbnails({visible:e,show:n,hide:s})):t.createElement(se,{label:e?"Hide thumbnails":"Show thumbnails",icon:e?Mn:Fn,renderIcon:e?o.iconThumbnailsVisible:o.iconThumbnailsHidden,onClick:e?s:n})}function Ae({augment:e,contains:n,append:s,addParent:o}){e(({thumbnails:l,toolbar:i,...a})=>{const c=Ce(l);return{toolbar:le(i,oe,c.showToggle?t.createElement(Tn,null):null),thumbnails:c,...a}});const r=ie(oe,kn);n(ne)?s(ne,r):o(We,r)}const Ln={root:"mnl__lightbox__root"};function On({slides:e,disableZoom:n,disableVideo:s,disableTotal:o,disableCaptions:r,disableSlideshow:l,disableThumbnails:i,disableFullscreen:a,onGetCurrentIndex:c,...d}){const u=e?e.length:0;return A.jsx(Dt,{slides:e,animation:{swipe:240},carousel:{finite:u<5},controller:{closeOnBackdropClick:!0},plugins:Rn({disableZoom:n,disableVideo:s,disableCaptions:r,disableSlideshow:l,disableThumbnails:i,disableFullscreen:a}),on:{view:({index:b})=>{c&&c(b)}},toolbar:{buttons:[A.jsx(Dn,{totalItems:u,disableTotal:o},0),"close"]},render:{iconClose:()=>A.jsx(Y,{width:24,icon:"carbon:close"}),iconZoomIn:()=>A.jsx(Y,{width:24,icon:"carbon:zoom-in"}),iconZoomOut:()=>A.jsx(Y,{width:24,icon:"carbon:zoom-out"}),iconSlideshowPlay:()=>A.jsx(Y,{width:24,icon:"carbon:play"}),iconSlideshowPause:()=>A.jsx(Y,{width:24,icon:"carbon:pause"}),iconPrev:()=>A.jsx(Y,{width:32,icon:"carbon:chevron-left"}),iconNext:()=>A.jsx(Y,{width:32,icon:"carbon:chevron-right"}),iconExitFullscreen:()=>A.jsx(Y,{width:24,icon:"carbon:center-to-fit"}),iconEnterFullscreen:()=>A.jsx(Y,{width:24,icon:"carbon:fit-to-screen"})},className:Ln.root,...d})}function Rn({disableZoom:e,disableVideo:n,disableCaptions:s,disableSlideshow:o,disableThumbnails:r,disableFullscreen:l}){let i=[Te,Re,Le,Ae,Fe,Me];return r&&(i=i.filter(a=>a!==Ae)),s&&(i=i.filter(a=>a!==Te)),l&&(i=i.filter(a=>a!==Re)),o&&(i=i.filter(a=>a!==Le)),e&&(i=i.filter(a=>a!==Me)),n&&(i=i.filter(a=>a!==Fe)),i}function Dn({totalItems:e,disableTotal:n}){const{currentIndex:s}=q();return n?null:A.jsxs(ct,{component:"span",className:"yarl__button",sx:{typography:"body2",alignItems:"center",display:"inline-flex",justifyContent:"center"},children:[A.jsxs("strong",{children:[" ",s+1," "]})," / ",e]})}function zn(e){const[n,s]=t.useState(-1),o=t.useCallback(l=>{const i=e.findIndex(a=>a.type==="video"?a.poster===l:a.src===l);s(i)},[e]),r=t.useCallback(()=>{s(-1)},[]);return{selected:n,open:n>=0,onOpen:o,onClose:r,setSelected:s}}export{On as L,zn as u};
