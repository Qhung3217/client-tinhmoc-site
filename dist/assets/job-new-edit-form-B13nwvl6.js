import{n as _,r,ey as g,cM as b,w as B,j as e,ap as j,h as l,T as o,eQ as L,eR as N,eS as D,b3 as y,eT as A,B as c,I as f,c0 as R,c as F,eU as q,b0 as H}from"./index-u4c5uTy0.js";import{z as t,u as M,t as W,F as n,C as z,a as G}from"./form-provider-Bg5v_u9U.js";import"./image-I9HL7nG0.js";import"./editor-Dm0D5q3G.js";import{s as u}from"./schema-helper-DPRuLBjQ.js";import{C}from"./Card-Ro7Utuy1.js";import{C as S}from"./CardHeader-CNvgM0Ym.js";import{I as U}from"./InputAdornment-e-Ol_iUA.js";import{F as K}from"./FormControlLabel-ClSICk_D.js";import{L as Y}from"./LoadingButton-B1VX3ihL.js";const Q=t.object({title:t.string().min(1,{message:"Title is required!"}),content:t.string().min(1,{message:"Content is required!"}),employmentTypes:t.string().array().nonempty({message:"Choose at least one option!"}),role:u.objectOrNull({message:{required_error:"Role is required!"}}),skills:t.string().array().nonempty({message:"Choose at least one option!"}),workingSchedule:t.string().array().nonempty({message:"Choose at least one option!"}),locations:t.string().array().nonempty({message:"Choose at least one option!"}),expiredDate:u.date({message:{required_error:"Expired date is required!"}}),salary:t.object({price:t.number().min(1,{message:"Price is required!"}),type:t.string(),negotiable:t.boolean()}),benefits:t.string().array().nonempty({message:"Choose at least one option!"}),experience:t.string()});function te({currentJob:s}){const E=_(),d=r.useMemo(()=>({title:(s==null?void 0:s.title)||"",content:(s==null?void 0:s.content)||"",employmentTypes:(s==null?void 0:s.employmentTypes)||[],experience:(s==null?void 0:s.experience)||"1 year exp",role:(s==null?void 0:s.role)||g[1],skills:(s==null?void 0:s.skills)||[],workingSchedule:(s==null?void 0:s.workingSchedule)||[],locations:(s==null?void 0:s.locations)||[],expiredDate:(s==null?void 0:s.expiredDate)||null,salary:(s==null?void 0:s.salary)||{type:"Hourly",price:0,negotiable:!1},benefits:(s==null?void 0:s.benefits)||[]}),[s]),h=M({mode:"all",resolver:W(Q),defaultValues:d}),{reset:m,control:O,handleSubmit:T,formState:{isSubmitting:k}}=h;r.useEffect(()=>{s&&m(d)},[s,d,m]);const w=T(async a=>{try{await new Promise(i=>setTimeout(i,500)),m(),b.success(s?"Update success!":"Create success!"),E.push(B.dashboard.job.root),console.info("DATA",a)}catch(i){console.error(i)}}),v=e.jsxs(C,{children:[e.jsx(S,{title:"Details",subheader:"Title, short description, image...",sx:{mb:3}}),e.jsx(j,{}),e.jsxs(l,{spacing:3,sx:{p:3},children:[e.jsxs(l,{spacing:1.5,children:[e.jsx(o,{variant:"subtitle2",children:"Title"}),e.jsx(n.Text,{name:"title",placeholder:"Ex: Software Engineer..."})]}),e.jsxs(l,{spacing:1.5,children:[e.jsx(o,{variant:"subtitle2",children:"Content"}),e.jsx(n.Editor,{name:"content",sx:{maxHeight:480}})]})]})]}),P=e.jsxs(C,{children:[e.jsx(S,{title:"Properties",subheader:"Additional functions and attributes...",sx:{mb:3}}),e.jsx(j,{}),e.jsxs(l,{spacing:3,sx:{p:3},children:[e.jsxs(l,{spacing:1,children:[e.jsx(o,{variant:"subtitle2",children:"Employment type"}),e.jsx(n.MultiCheckbox,{row:!0,name:"employmentTypes",options:L,sx:{gap:4}})]}),e.jsxs(l,{spacing:1,children:[e.jsx(o,{variant:"subtitle2",children:"Experience"}),e.jsx(n.RadioGroup,{row:!0,name:"experience",options:N,sx:{gap:4}})]}),e.jsxs(l,{spacing:1.5,children:[e.jsx(o,{variant:"subtitle2",children:"Role"}),e.jsx(n.Autocomplete,{name:"role",autoHighlight:!0,options:g.map(a=>a),getOptionLabel:a=>a,renderOption:(a,i)=>r.createElement("li",{...a,key:i},i)})]}),e.jsxs(l,{spacing:1.5,children:[e.jsx(o,{variant:"subtitle2",children:"Skills"}),e.jsx(n.Autocomplete,{name:"skills",placeholder:"+ Skills",multiple:!0,disableCloseOnSelect:!0,options:D.map(a=>a),getOptionLabel:a=>a,renderOption:(a,i)=>r.createElement("li",{...a,key:i},i),renderTags:(a,i)=>a.map((p,x)=>r.createElement(y,{...i({index:x}),key:p,label:p,size:"small",color:"info",variant:"soft"}))})]}),e.jsxs(l,{spacing:1.5,children:[e.jsx(o,{variant:"subtitle2",children:"Working schedule"}),e.jsx(n.Autocomplete,{name:"workingSchedule",placeholder:"+ Schedule",multiple:!0,disableCloseOnSelect:!0,options:A.map(a=>a),getOptionLabel:a=>a,renderOption:(a,i)=>r.createElement("li",{...a,key:i},i),renderTags:(a,i)=>a.map((p,x)=>r.createElement(y,{...i({index:x}),key:p,label:p,size:"small",color:"info",variant:"soft"}))})]}),e.jsxs(l,{spacing:1.5,children:[e.jsx(o,{variant:"subtitle2",children:"Locations"}),e.jsx(n.CountrySelect,{multiple:!0,name:"locations",placeholder:"+ Locations"})]}),e.jsxs(l,{spacing:1.5,children:[e.jsx(o,{variant:"subtitle2",children:"Expired"}),e.jsx(n.DatePicker,{name:"expiredDate"})]}),e.jsxs(l,{spacing:2,children:[e.jsx(o,{variant:"subtitle2",children:"Salary"}),e.jsx(z,{name:"salary.type",control:O,render:({field:a})=>e.jsx(c,{gap:2,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",children:[{label:"Hourly",icon:e.jsx(f,{icon:"solar:clock-circle-bold",width:32,sx:{mb:2}})},{label:"Custom",icon:e.jsx(f,{icon:"solar:wad-of-money-bold",width:32,sx:{mb:2}})}].map(i=>e.jsxs(R,{component:F,variant:"outlined",onClick:()=>a.onChange(i.label),sx:{p:2.5,borderRadius:1,typography:"subtitle2",flexDirection:"column",...i.label===a.value&&{borderWidth:2,borderColor:"text.primary"}},children:[i.icon,i.label]},i.label))})}),e.jsx(n.Text,{name:"salary.price",placeholder:"0.00",type:"number",InputProps:{startAdornment:e.jsx(U,{position:"start",children:e.jsx(c,{sx:{typography:"subtitle2",color:"text.disabled"},children:"$"})})}}),e.jsx(n.Switch,{name:"salary.negotiable",label:"Salary is negotiable"})]}),e.jsxs(l,{spacing:1,children:[e.jsx(o,{variant:"subtitle2",children:"Benefits"}),e.jsx(n.MultiCheckbox,{name:"benefits",options:q,sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)"}})]})]})]}),I=e.jsxs(c,{display:"flex",alignItems:"center",flexWrap:"wrap",children:[e.jsx(K,{control:e.jsx(H,{defaultChecked:!0,inputProps:{id:"publish-switch"}}),label:"Publish",sx:{flexGrow:1,pl:3}}),e.jsx(Y,{type:"submit",variant:"contained",size:"large",loading:k,sx:{ml:2},children:s?"Save changes":"Create job"})]});return e.jsx(G,{methods:h,onSubmit:w,children:e.jsxs(l,{spacing:{xs:3,md:5},sx:{mx:"auto",maxWidth:{xs:720,xl:880}},children:[v,P,I]})})}export{te as J};
