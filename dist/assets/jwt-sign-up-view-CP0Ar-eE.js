import{K as f,N as v,a as I,O as S,P as M,j as e,F as n,Q as k,U as P,I as L,V as F,T as p,W as C,X as V}from"./index-CWahQ5ZS.js";import{z as r,u as T,F as t,L as E,a as N,t as A}from"./form-provider-CaIsVnSA.js";import"./image-Ds2WO9mA.js";import{L as u}from"./Link-OvF8PdYx.js";import{I as B}from"./InputAdornment-BL3eVklr.js";const q=r.object({email:r.string().min(1,{message:"Bạn chưa nhập email!"}).email({message:"Email không hợp lệ!"}),password:r.string().min(1,{message:"Bạn chưa nhập mật khẩu!"}).min(6,{message:"Mật khẩu ít nhất 6 kí tự!"})});function U(){const i=f(),{checkUserSession:o}=v(),[a,m]=I.useState(""),l=S(),g={email:"admin@gmail.com",password:"123456"},c=T({resolver:A(q),defaultValues:g}),{handleSubmit:x,formState:{isSubmitting:j}}=c,b=x(async d=>{try{await M({email:d.email,password:d.password}),await(o==null?void 0:o()),i.refresh()}catch(s){console.error(s),m(s instanceof Error?s.message:s)}}),y=e.jsx(n,{spacing:1.5,sx:{mb:5},children:e.jsx(p,{variant:"h5",children:"Đăng nhập bằng tài khoản"})}),w=e.jsxs(n,{spacing:3,children:[e.jsx(t.Text,{name:"email",label:"Email",InputLabelProps:{shrink:!0}}),e.jsxs(n,{spacing:1.5,children:[e.jsx(u,{component:k,href:"#",variant:"body2",color:"inherit",sx:{alignSelf:"flex-end"},children:"Quên mật khẩu?"}),e.jsx(t.Text,{name:"password",label:"Mật khẩu",placeholder:"6+ characters",type:l.value?"text":"password",InputLabelProps:{shrink:!0},InputProps:{endAdornment:e.jsx(B,{position:"end",children:e.jsx(P,{onClick:l.onToggle,edge:"end",children:e.jsx(L,{icon:l.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}})]}),e.jsx(E,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:j,loadingIndicator:"Đang đăng nhập...",children:"Đăng nhập"})]});return e.jsxs(e.Fragment,{children:[y,!!a&&e.jsx(F,{severity:"error",sx:{mb:3},children:a}),e.jsx(N,{methods:c,onSubmit:b,children:w})]})}const W=r.object({firstName:r.string().min(1,{message:"First name is required!"}),lastName:r.string().min(1,{message:"Last name is required!"}),email:r.string().min(1,{message:"Email is required!"}).email({message:"Email must be a valid email address!"}),password:r.string().min(1,{message:"Password is required!"}).min(6,{message:"Password must be at least 6 characters!"})});function G(){const{checkUserSession:i}=v(),o=f(),a=S(),[m,l]=I.useState(""),g={firstName:"Hello",lastName:"Friend",email:"hello@gmail.com",password:"@demo1"},c=T({resolver:A(W),defaultValues:g}),{handleSubmit:x,formState:{isSubmitting:j}}=c,b=x(async s=>{try{await C({email:s.email,password:s.password,firstName:s.firstName,lastName:s.lastName}),await(i==null?void 0:i()),o.refresh()}catch(h){console.error(h),l(h instanceof Error?h.message:h)}}),y=e.jsxs(n,{spacing:1.5,sx:{mb:5},children:[e.jsx(p,{variant:"h5",children:"Get started absolutely free"}),e.jsxs(n,{direction:"row",spacing:.5,children:[e.jsx(p,{variant:"body2",sx:{color:"text.secondary"},children:"Already have an account?"}),e.jsx(u,{component:k,href:V.auth.jwt.signIn,variant:"subtitle2",children:"Sign in"})]})]}),w=e.jsxs(n,{spacing:3,children:[e.jsxs(n,{direction:{xs:"column",sm:"row"},spacing:2,children:[e.jsx(t.Text,{name:"firstName",label:"First name",InputLabelProps:{shrink:!0}}),e.jsx(t.Text,{name:"lastName",label:"Last name",InputLabelProps:{shrink:!0}})]}),e.jsx(t.Text,{name:"email",label:"Email address",InputLabelProps:{shrink:!0}}),e.jsx(t.Text,{name:"password",label:"Password",placeholder:"6+ characters",type:a.value?"text":"password",InputLabelProps:{shrink:!0},InputProps:{endAdornment:e.jsx(B,{position:"end",children:e.jsx(P,{onClick:a.onToggle,edge:"end",children:e.jsx(L,{icon:a.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(E,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:j,loadingIndicator:"Create account...",children:"Create account"})]}),d=e.jsxs(p,{component:"div",sx:{mt:3,textAlign:"center",typography:"caption",color:"text.secondary"},children:["By signing up, I agree to ",e.jsx(u,{underline:"always",color:"text.primary",children:"Terms of service"})," and ",e.jsx(u,{underline:"always",color:"text.primary",children:"Privacy policy"}),"."]});return e.jsxs(e.Fragment,{children:[y,!!m&&e.jsx(F,{severity:"error",sx:{mb:3},children:m}),e.jsx(N,{methods:c,onSubmit:b,children:w}),d]})}export{U as J,G as a};
