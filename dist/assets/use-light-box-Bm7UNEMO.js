import{au as dt,j as T,F as ht,a1 as mt,w as Be,B as ft,a$ as bt,b0 as vt,a as t,I as j}from"./index-CWahQ5ZS.js";import{c as te}from"./carousel-progress-bar-Ce_2a-tY.js";import{c as V,u as Z,I as re,a as le,P as Se,i as ie,b as ae,m as ce,d as q,e as ee,f as J,g as $,h as F,C as je,j as ne,k as $e,l as K,n as Ye,o as D,r as Xe,p as pe,q as pt,s as ue,E as gt,t as Et,U as wt,v as xt,w as Ct,x as ge,y as St,A as Ue,z as We,B as Ge,D as qe,F as ye,G as A,H as Ie,J as yt,K as It,S as _e,M as ke,N as _t,O as kt,Q as Mt,R as oe,T as se,V as Ke,W as Ft,X as Je,Y as Tt,Z as Pt,_ as Lt,$ as Rt,a0 as Nt,a1 as Dt,a2 as Zt,a3 as zt,a4 as Ot,a5 as At,a6 as Vt,a7 as de,a8 as Ht,a9 as Bt}from"./index-CbZhzOjM.js";function Xn({options:e,slotProps:n,totalSlides:s,selectedIndex:o,onClickPrev:l,onClickNext:r,disablePrev:i,disableNext:c,sx:a,...d}){var v,b,p,E,I,h;const u=dt();return T.jsxs(ht,{direction:"row",alignItems:"center",display:"inline-flex",className:te.arrows,sx:{p:.5,gap:.25,zIndex:9,borderRadius:1.25,color:"common.white",bgcolor:mt(u.vars.palette.grey["900Channel"],.48),...a},...d,children:[T.jsx(Me,{variant:"prev",options:e,disabled:i,onClick:l,sx:{p:.75,borderRadius:"inherit",...(v=n==null?void 0:n.prevBtn)==null?void 0:v.sx},svgIcon:(b=n==null?void 0:n.prevBtn)==null?void 0:b.svgIcon,svgSize:((p=n==null?void 0:n.prevBtn)==null?void 0:p.svgSize)??16}),T.jsxs(Be,{component:"span",className:te.arrowsLabel,sx:{mx:.5,typography:"subtitle2"},children:[o,"/",s]}),T.jsx(Me,{variant:"next",options:e,disabled:c,onClick:r,sx:{p:.75,borderRadius:"inherit",...(E=n==null?void 0:n.nextBtn)==null?void 0:E.sx},svgIcon:(I=n==null?void 0:n.nextBtn)==null?void 0:I.svgIcon,svgSize:((h=n==null?void 0:n.prevBtn)==null?void 0:h.svgSize)??16})]})}function Me({sx:e,svgIcon:n,svgSize:s,options:o,variant:l,...r}){const i=l==="prev",c=l==="next",a=n||T.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M15.488 4.43a.75.75 0 0 1 .081 1.058L9.988 12l5.581 6.512a.75.75 0 1 1-1.138.976l-6-7a.75.75 0 0 1 0-.976l6-7a.75.75 0 0 1 1.057-.081",clipRule:"evenodd"}),d=n||T.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.512 4.43a.75.75 0 0 1 1.057.082l6 7a.75.75 0 0 1 0 .976l-6 7a.75.75 0 0 1-1.138-.976L14.012 12L8.431 5.488a.75.75 0 0 1 .08-1.057",clipRule:"evenodd"});return T.jsx(ft,{className:i?te.arrowPrev:te.arrowPrev,"aria-label":i?"Prev button":"Next button",sx:{p:1,borderRadius:"50%",boxSizing:"content-box",transition:u=>u.transitions.create(["all"],{easing:u.transitions.easing.sharp,duration:u.transitions.duration.short}),[`&.${bt.disabled}`]:{opacity:.4},...e,...(o==null?void 0:o.direction)==="rtl"&&{...i&&{right:-16,left:"auto"},...c&&{left:-16,right:"auto"}}},...r,children:T.jsx(vt,{className:te.arrowSvg,sx:{width:s??20,height:s??20,...(o==null?void 0:o.axis)==="y"&&{transform:" rotate(90deg)"},...(o==null?void 0:o.direction)==="rtl"&&{transform:" scaleX(-1)"}},children:i?a:d})})}const jt={maxZoomPixelRatio:1,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:500,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,scrollToZoom:!1},Qe=e=>({...jt,...e});function $t(e,n,s,o){const l=t.useRef(),r=t.useRef(),{zoom:i}=Z().animation,c=Ct(),a=D(()=>{var d,u,v;if((d=l.current)===null||d===void 0||d.cancel(),l.current=void 0,r.current&&(o!=null&&o.current)){try{l.current=(v=(u=o.current).animate)===null||v===void 0?void 0:v.call(u,[{transform:r.current},{transform:`scale(${e}) translateX(${n}px) translateY(${s}px)`}],{duration:c?0:i??500,easing:l.current?"ease-out":"ease-in-out"})}catch(b){console.error(b)}r.current=void 0,l.current&&(l.current.onfinish=()=>{l.current=void 0})}});return ee(a,[e,n,s,a]),t.useCallback(()=>{r.current=o!=null&&o.current?window.getComputedStyle(o.current).transform:void 0},[o])}function Yt(e,n){const{on:s}=Z(),o=D(()=>{var l;n||(l=s.zoom)===null||l===void 0||l.call(s,{zoom:e})});t.useEffect(o,[e,o])}function he(){const{zoom:e}=Z();return Qe(e)}function Xt(e,n){var s,o;let l={width:0,height:0},r={width:0,height:0};const{currentSlide:i}=q(),{imageFit:c}=Z().carousel,{maxZoomPixelRatio:a}=he();if(e&&i){const u={...i,...n};if(ie(u)){const v=Ye(u,c),b=Math.max(...(((s=u.srcSet)===null||s===void 0?void 0:s.map(E=>E.width))||[]).concat(u.width?[u.width]:[])),p=Math.max(...(((o=u.srcSet)===null||o===void 0?void 0:o.map(E=>E.height))||[]).concat(u.height?[u.height]:[]));b>0&&p>0&&e.width>0&&e.height>0&&(r=v?{width:Math.round(Math.min(b,e.width/e.height*p)),height:Math.round(Math.min(p,e.height/e.width*b))}:{width:b,height:p},r={width:r.width*a,height:r.height*a},l=v?{width:Math.min(e.width,r.width,b),height:Math.min(e.height,r.height,p)}:{width:Math.round(Math.min(e.width,e.height/p*b,b)),height:Math.round(Math.min(e.height,e.width/b*p,p))})}}const d=l.width?Math.max(Xe(r.width/l.width,5),1):1;return{imageRect:l,maxZoom:d}}function Fe(e,n){return((e.clientX-n.clientX)**2+(e.clientY-n.clientY)**2)**.5}function Ut(e,n,s,o,l,r){const i=t.useRef([]),c=t.useRef(0),a=t.useRef(),{globalIndex:d}=q(),{getOwnerWindow:u}=pe(),{containerRef:v,subscribeSensors:b}=K(),{keyboardMoveDistance:p,zoomInMultiplier:E,wheelZoomDistanceFactor:I,scrollToZoom:h,doubleTapDelay:_,doubleClickDelay:w,doubleClickMaxStops:m,pinchZoomDistanceFactor:S}=he(),y=t.useCallback(f=>{if(v.current){const{pageX:g,pageY:x}=f,{scrollX:M,scrollY:R}=u(),{left:B,top:X,width:U,height:me}=v.current.getBoundingClientRect();return[g-B-M-U/2,x-X-R-me/2]}return[]},[v,u]),k=D(f=>{const g=()=>{f.preventDefault(),f.stopPropagation()};if(e>1){const R=(B,X)=>{g(),l(B,X)};f.key==="ArrowDown"?R(0,p):f.key==="ArrowUp"?R(0,-p):f.key==="ArrowLeft"?R(-p,0):f.key==="ArrowRight"&&R(p,0)}const x=R=>{g(),o(R)},M=()=>f.getModifierState("Meta");f.key==="+"||f.key==="="&&M()?x(e*E):f.key==="-"||f.key==="_"&&M()?x(e/E):f.key==="0"&&M()&&x(1)}),z=D(f=>{if((f.ctrlKey||h)&&Math.abs(f.deltaY)>Math.abs(f.deltaX)){f.stopPropagation(),o(e*(1-f.deltaY/I),!0,...y(f));return}e>1&&(f.stopPropagation(),h||l(f.deltaX,f.deltaY))}),O=t.useCallback(f=>{const g=i.current;g.splice(0,g.length,...g.filter(x=>x.pointerId!==f.pointerId))},[]),C=t.useCallback(f=>{O(f),f.persist(),i.current.push(f)},[O]),P=D(f=>{var g;const x=i.current;if(!(!((g=r==null?void 0:r.current)===null||g===void 0)&&g.contains(f.target)))return;e>1&&f.stopPropagation();const{timeStamp:M}=f;x.length===0&&M-c.current<(f.pointerType==="touch"?_:w)?(c.current=0,o(e!==n?e*Math.max(n**(1/m),E):1,!1,...y(f))):c.current=M,C(f),x.length===2&&(a.current=Fe(x[0],x[1]))}),Y=D(f=>{const g=i.current,x=g.find(M=>M.pointerId===f.pointerId);if(g.length===2&&a.current){f.stopPropagation(),C(f);const M=Fe(g[0],g[1]),R=M-a.current;Math.abs(R)>0&&(o(e*(1+R/S),!0,...g.map(B=>y(B)).reduce((B,X)=>X.map((U,me)=>B[me]+U/2))),a.current=M);return}e>1&&(f.stopPropagation(),x&&(g.length===1&&l((x.clientX-f.clientX)/e,(x.clientY-f.clientY)/e),C(f)))}),L=t.useCallback(f=>{const g=i.current;g.length===2&&g.find(x=>x.pointerId===f.pointerId)&&(a.current=void 0),O(f)},[O]),H=t.useCallback(()=>{const f=i.current;f.splice(0,f.length),c.current=0,a.current=void 0},[]);pt(b,P,Y,L,s),t.useEffect(H,[d,H]),t.useEffect(()=>s?()=>{}:ue(H,b(Et,k),b(gt,z)),[s,b,H,k,z])}function Wt(e,n,s){const[o,l]=t.useState(1),[r,i]=t.useState(0),[c,a]=t.useState(0),d=$t(o,r,c,s),{currentSlide:u,globalIndex:v}=q(),{containerRect:b,slideRect:p}=K(),{zoomInMultiplier:E}=he(),I=u&&ie(u)?u.src:void 0,h=!I||!(s!=null&&s.current);ee(()=>{l(1),i(0),a(0)},[v,I]);const _=t.useCallback((k,z,O)=>{const C=O||o,P=r-(k||0),Y=c-(z||0),L=(e.width*C-p.width)/2/C,H=(e.height*C-p.height)/2/C;i(Math.min(Math.abs(P),Math.max(L,0))*Math.sign(P)),a(Math.min(Math.abs(Y),Math.max(H,0))*Math.sign(Y))},[o,r,c,p,e.width,e.height]),w=t.useCallback((k,z,O,C)=>{const P=Xe(Math.min(Math.max(k+.001<n?k:n,1),n),5);P!==o&&(z||d(),_(O?O*(1/o-1/P):0,C?C*(1/o-1/P):0,P),l(P))},[o,n,_,d]),m=D(()=>{o>1&&(o>n&&w(n,!0),_())});ee(m,[b.width,b.height,m]);const S=t.useCallback(()=>w(o*E),[o,E,w]),y=t.useCallback(()=>w(o/E),[o,E,w]);return{zoom:o,offsetX:r,offsetY:c,disabled:h,changeOffsets:_,changeZoom:w,zoomIn:S,zoomOut:y}}const et=t.createContext(null),Ee=ce("useZoom","ZoomControllerContext",et);function Gt({children:e}){const[n,s]=t.useState(),{slideRect:o}=K(),{imageRect:l,maxZoom:r}=Xt(o,n==null?void 0:n.imageDimensions),{zoom:i,offsetX:c,offsetY:a,disabled:d,changeZoom:u,changeOffsets:v,zoomIn:b,zoomOut:p}=Wt(l,r,n==null?void 0:n.zoomWrapperRef);Yt(i,d),Ut(i,r,d,u,v,n==null?void 0:n.zoomWrapperRef);const E=t.useMemo(()=>({zoom:i,maxZoom:r,offsetX:c,offsetY:a,disabled:d,zoomIn:b,zoomOut:p,changeZoom:u}),[i,r,c,a,d,b,p,u]);t.useImperativeHandle(he().ref,()=>E,[E]);const I=t.useMemo(()=>({...E,setZoomWrapper:s}),[E,s]);return t.createElement(et.Provider,{value:I},e)}const qt=V("ZoomIn",t.createElement(t.Fragment,null,t.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),t.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))),Kt=V("ZoomOut",t.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})),Te=t.forwardRef(function({zoomIn:n,onLoseFocus:s},o){const l=t.useRef(!1),r=t.useRef(!1),{zoom:i,maxZoom:c,zoomIn:a,zoomOut:d,disabled:u}=Ee(),{render:v}=Z(),b=u||(n?i>=c:i<=1);return t.useEffect(()=>{b&&l.current&&r.current&&s(),b||(l.current=!0)},[b,s]),t.createElement(re,{ref:o,disabled:b,label:n?"Zoom in":"Zoom out",icon:n?qt:Kt,renderIcon:n?v.iconZoomIn:v.iconZoomOut,onClick:n?a:d,onFocus:()=>{r.current=!0},onBlur:()=>{r.current=!1}})});function Jt(){const e=t.useRef(null),n=t.useRef(null),{focus:s}=K(),o=t.useCallback(i=>{var c,a;!((c=i.current)===null||c===void 0)&&c.disabled?s():(a=i.current)===null||a===void 0||a.focus()},[s]),l=t.useCallback(()=>o(e),[o]),r=t.useCallback(()=>o(n),[o]);return t.createElement(t.Fragment,null,t.createElement(Te,{zoomIn:!0,ref:e,onLoseFocus:r}),t.createElement(Te,{ref:n,onLoseFocus:l}))}function Qt(){const{render:e}=Z(),n=Ee();return e.buttonZoom?t.createElement(t.Fragment,null,e.buttonZoom(n)):t.createElement(Jt,null)}function en(e){var n;return(((n=e.srcSet)===null||n===void 0?void 0:n.length)||0)>0}function tn({current:e,preload:n},{type:s,source:o}){switch(s){case"fetch":return e?{current:e,preload:o}:{current:o};case"done":return o===n?{current:o}:{current:e,preload:n};default:throw new Error(wt)}}function nn(e){var n,s;const[{current:o,preload:l},r]=t.useReducer(tn,{}),{slide:i,rect:c,imageFit:a,render:d}=e,u=i.srcSet.sort((S,y)=>S.width-y.width),v=(n=i.width)!==null&&n!==void 0?n:u[u.length-1].width,b=(s=i.height)!==null&&s!==void 0?s:u[u.length-1].height,p=Ye(i,a),E=Math.max(...u.map(S=>S.width)),I=Math.min((p?Math.max:Math.min)(c.width,v*(c.height/b)),E),h=xt(),_=D(()=>{var S;const y=(S=u.find(k=>k.width>=I*h))!==null&&S!==void 0?S:u[u.length-1];(!o||u.findIndex(k=>k.src===o)<u.findIndex(k=>k===y))&&r({type:"fetch",source:y.src})});ee(_,[c.width,c.height,h,_]);const w=D(S=>r({type:"done",source:S})),m={WebkitTransform:"translateZ(0)"};return p||Object.assign(m,c.width/c.height<v/b?{width:"100%",height:"auto"}:{width:"auto",height:"100%"}),t.createElement(t.Fragment,null,l&&l!==o&&t.createElement(J,{key:"preload",...e,slide:{...i,src:l,srcSet:void 0},style:{position:"absolute",visibility:"hidden",...m},onLoad:()=>w(l),render:{...d,iconLoading:()=>null,iconError:()=>null}}),o&&t.createElement(J,{key:"current",...e,slide:{...i,src:o,srcSet:void 0},style:m}))}function on({render:e,slide:n,offset:s,rect:o}){var l;const[r,i]=t.useState(),c=t.useRef(null),{zoom:a,maxZoom:d,offsetX:u,offsetY:v,setZoomWrapper:b}=Ee(),{carousel:p,on:E}=Z(),{currentIndex:I}=q();ee(()=>s===0?(b({zoomWrapperRef:c,imageDimensions:r}),()=>b(void 0)):()=>{},[s,r,b]);let h=(l=e.slide)===null||l===void 0?void 0:l.call(e,{slide:n,offset:s,rect:o,zoom:a,maxZoom:d});if(!h&&ie(n)){const _={slide:n,offset:s,rect:o,render:e,imageFit:p.imageFit,imageProps:p.imageProps,onClick:s===0?()=>{var w;return(w=E.click)===null||w===void 0?void 0:w.call(E,{index:I})}:void 0};h=en(n)?t.createElement(nn,{..._,slide:n,rect:s===0?{width:o.width*a,height:o.height*a}:o}):t.createElement(J,{onLoad:w=>i({width:w.naturalWidth,height:w.naturalHeight}),..._})}return h?t.createElement("div",{ref:c,className:$(F($e),F(ne),F(je)),style:s===0?{transform:`scale(${a}) translateX(${u}px) translateY(${v}px)`}:void 0},h):null}const Pe=({augment:e,addModule:n})=>{e(({zoom:s,toolbar:o,render:l,controller:r,...i})=>{const c=Qe(s);return{zoom:c,toolbar:le(o,Se,t.createElement(Qt,null)),render:{...l,slide:a=>{var d;return ie(a.slide)?t.createElement(on,{render:l,...a}):(d=l.slide)===null||d===void 0?void 0:d.call(l,a)}},controller:{...r,preventDefaultWheelY:c.scrollToZoom},...i}}),n(ae(Se,Gt))},sn={controls:!0,playsInline:!0},tt=e=>({...sn,...e});function rn(){const{video:e}=Z();return tt(e)}function ln({slide:e,offset:n}){const s=rn(),{publish:o}=ge(),{setContainerRef:l,containerRect:r}=St(),i=t.useRef(null);t.useEffect(()=>{n!==0&&i.current&&!i.current.paused&&i.current.pause()},[n]),t.useEffect(()=>{n===0&&i.current&&(e.autoPlay||s.autoPlay)&&(o(Ue),i.current.play().catch(()=>{}))},[n,s.autoPlay,e.autoPlay,o]);const c=D(h=>{n===0&&(s.autoPlay||e.autoPlay)&&h.paused&&h.play().catch(()=>{})}),a=t.useCallback(h=>{i.current=h,h&&c(h)},[c]),{width:d,height:u,poster:v,sources:b}=e,p=()=>{const h={};if(h.style={maxWidth:"100%",maxHeight:"100%"},d&&u&&r){const _=d/u>r.width/r.height,w=_?r.width:Math.round(r.height/u*d),m=_?Math.round(r.width/d*u):r.height;h.width=w,h.height=m,h.style.width=w,h.style.height=m}return h},E=h=>e[h]===!1?null:e[h]===!0?{[h]:!0}:s[h]===!1?null:s[h]===!0?{[h]:!0}:null,I=h=>s[h]||e[h]?{[h]:e[h]||s[h]}:null;return t.createElement(t.Fragment,null,b&&t.createElement("div",{ref:l,style:{width:"100%",height:"100%",...d?{maxWidth:`${d}px`}:null},className:$(F("video_container"),F(ne),F(je))},r&&t.createElement("video",{ref:a,poster:v,...p(),...E("controls"),...E("playsInline"),...E("loop"),...E("muted"),...E("playsInline"),...E("disablePictureInPicture"),...E("disableRemotePlayback"),...I("controlsList"),...I("crossOrigin"),...I("preload"),onPlay:()=>{o(We)},onEnded:()=>{o(Ge)}},b.map(({src:h,type:_,media:w})=>t.createElement("source",{key:[h,_,w].filter(Boolean).join("|"),src:h,type:_,media:w})))))}function an(e){return e.type==="video"}function Le({augment:e}){e(({render:{slide:n,...s},video:o,...l})=>({render:{slide:({slide:r,offset:i,rect:c})=>{var a;return an(r)?t.createElement(ln,{key:(a=r.sources)===null||a===void 0?void 0:a.map(d=>d.src).join("|"),slide:r,offset:i}):n==null?void 0:n({slide:r,offset:i,rect:c})},...s},video:tt(o),...l}))}const Q=e=>F(`slide_${e}`),ve={descriptionTextAlign:"start",descriptionMaxLines:3,showToggle:!1,hidden:!1},we=e=>({...ve,...e});function cn(){const{captions:e}=Z();return we(e)}const nt=t.createContext(null),xe=ce("useCaptions","CaptionsContext",nt);function un({captions:e,children:n}){const{ref:s,hidden:o}=we(e),[l,r]=t.useState(!o),i=t.useMemo(()=>({visible:l,show:()=>r(!0),hide:()=>r(!1)}),[l]);return t.useImperativeHandle(s,()=>i,[i]),t.createElement(nt.Provider,{value:i},n)}function dn({title:e}){const{toolbarWidth:n}=K(),{styles:s}=Z(),{visible:o}=xe();return o?t.createElement("div",{style:s.captionsTitleContainer,className:$(Q("captions_container"),Q("title_container"))},t.createElement("div",{className:Q("title"),style:{...n?{[A("toolbar_width")]:`${n}px`}:null,...s.captionsTitle}},e)):null}function hn({description:e}){const{descriptionTextAlign:n,descriptionMaxLines:s}=cn(),{styles:o}=Z(),{visible:l}=xe();return l?t.createElement("div",{style:o.captionsDescriptionContainer,className:$(Q("captions_container"),Q("description_container"))},t.createElement("div",{className:Q("description"),style:{...n!==ve.descriptionTextAlign||s!==ve.descriptionMaxLines?{[A("slide_description_text_align")]:n,[A("slide_description_max_lines")]:s}:null,...o.captionsDescription}},typeof e=="string"?e.split(`
`).flatMap((r,i)=>[...i>0?[t.createElement("br",{key:i})]:[],r]):e)):null}const ot=()=>t.createElement(t.Fragment,null,t.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),t.createElement("path",{d:"M7 15h3c.55 0 1-.45 1-1v-1H9.5v.5h-2v-3h2v.5H11v-1c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm7 0h3c.55 0 1-.45 1-1v-1h-1.5v.5h-2v-3h2v.5H18v-1c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1z"})),mn=V("CaptionsVisible",ot()),fn=qe("CaptionsVisible",ot());function bn(){const{visible:e,show:n,hide:s}=xe(),{render:o}=Z();return o.buttonCaptions?t.createElement(t.Fragment,null,o.buttonCaptions({visible:e,show:n,hide:s})):t.createElement(re,{label:e?"Hide captions":"Show captions",icon:e?mn:fn,renderIcon:e?o.iconCaptionsVisible:o.iconCaptionsHidden,onClick:e?s:n})}function Re({augment:e,addModule:n}){e(({captions:s,render:{slideFooter:o,...l},toolbar:r,...i})=>{const c=we(s);return{render:{slideFooter:({slide:a})=>t.createElement(t.Fragment,null,o==null?void 0:o({slide:a}),a.title&&t.createElement(dn,{title:a.title}),a.description&&t.createElement(hn,{description:a.description})),...l},toolbar:le(r,ye,c.showToggle?t.createElement(bn,null):null),captions:c,...i}}),n(ae(ye,un))}const vn={autoplay:!1,delay:3e3,ref:null},st=e=>({...vn,...e}),rt=t.createContext(null),pn=ce("useSlideshow","SlideshowContext",rt);function gn({slideshow:e,carousel:{finite:n},on:s,children:o}){const{autoplay:l,delay:r,ref:i}=st(e),c=t.useRef(l),[a,d]=t.useState(l),u=t.useRef(),v=t.useRef(),{slides:b,currentIndex:p}=q(),{setTimeout:E,clearTimeout:I}=It(),{subscribe:h}=ge(),{next:_}=K(),w=b.length===0||n&&p===b.length-1,m=t.useCallback(()=>{!a&&!w&&d(!0)},[a,w]),S=t.useCallback(()=>{a&&d(!1)},[a]),y=t.useCallback(()=>{I(u.current),u.current=void 0},[I]),k=D(()=>{y(),!(!a||w||v.current===_e||v.current===ke)&&(u.current=E(()=>{a&&(v.current=void 0,_())},r))});t.useEffect(k,[p,a,k]),t.useEffect(()=>{a&&w&&d(!1)},[p,a,w]);const z=D(()=>{var P;return(P=s.slideshowStart)===null||P===void 0?void 0:P.call(s)}),O=D(()=>{var P;return(P=s.slideshowStop)===null||P===void 0?void 0:P.call(s)});t.useEffect(()=>{a?z():c.current&&O(),c.current=a},[a,z,O]),t.useEffect(()=>ue(y,h(Ue,()=>{v.current=_e,y()}),h(We,()=>{v.current=ke,y()}),h(kt,()=>{v.current=Mt,k()}),h(Ge,()=>{v.current=_t,k()})),[h,y,k]);const C=t.useMemo(()=>({playing:a,disabled:w,play:m,pause:S}),[a,w,m,S]);return t.useImperativeHandle(i,()=>C,[C]),t.createElement(rt.Provider,{value:C},o)}const En=V("Play",t.createElement("path",{d:"M8 5v14l11-7z"})),wn=V("Pause",t.createElement("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}));function xn(){const{playing:e,disabled:n,play:s,pause:o}=pn(),{render:l}=Z(),r=yt(K().focus,n);return l.buttonSlideshow?t.createElement(t.Fragment,null,l.buttonSlideshow({playing:e,disabled:n,play:s,pause:o})):t.createElement(re,{label:e?"Pause":"Play",icon:e?wn:En,renderIcon:e?l.iconSlideshowPause:l.iconSlideshowPlay,onClick:e?o:s,disabled:n,...r})}function Ne({augment:e,addModule:n}){e(({slideshow:s,toolbar:o,...l})=>({toolbar:le(o,Ie,t.createElement(xn,null)),slideshow:st(s),...l})),n(ae(Ie,gn))}const Cn={auto:!1,ref:null},lt=e=>({...Cn,...e}),it=t.createContext(null),Sn=ce("useFullscreen","FullscreenContext",it);function yn({fullscreen:e,on:n,children:s}){const{auto:o,ref:l}=lt(e),r=t.useRef(null),[i,c]=t.useState(),[a,d]=t.useState(!1),u=t.useRef(!1),{getOwnerDocument:v}=pe();ee(()=>{var m,S,y,k;const z=v();c(!((k=(y=(S=(m=z.fullscreenEnabled)!==null&&m!==void 0?m:z.webkitFullscreenEnabled)!==null&&S!==void 0?S:z.mozFullScreenEnabled)!==null&&y!==void 0?y:z.msFullscreenEnabled)!==null&&k!==void 0&&k))},[v]);const b=t.useCallback(()=>{var m;const S=v(),y=S.fullscreenElement||S.webkitFullscreenElement||S.mozFullScreenElement||S.msFullscreenElement;return((m=y==null?void 0:y.shadowRoot)===null||m===void 0?void 0:m.fullscreenElement)||y},[v]),p=t.useCallback(()=>{const m=r.current;try{m.requestFullscreen?m.requestFullscreen().catch(()=>{}):m.webkitRequestFullscreen?m.webkitRequestFullscreen():m.mozRequestFullScreen?m.mozRequestFullScreen():m.msRequestFullscreen&&m.msRequestFullscreen()}catch{}},[]),E=t.useCallback(()=>{if(!b())return;const m=v();try{m.exitFullscreen?m.exitFullscreen().catch(()=>{}):m.webkitExitFullscreen?m.webkitExitFullscreen():m.mozCancelFullScreen?m.mozCancelFullScreen():m.msExitFullscreen&&m.msExitFullscreen()}catch{}},[b,v]);t.useEffect(()=>{const m=v(),S=()=>{d(b()===r.current)};return ue(...["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"].map(y=>(m.addEventListener(y,S),()=>m.removeEventListener(y,S))))},[b,v]);const I=D(()=>{var m;return(m=n.enterFullscreen)===null||m===void 0?void 0:m.call(n)}),h=D(()=>{var m;return(m=n.exitFullscreen)===null||m===void 0?void 0:m.call(n)});t.useEffect(()=>{a&&(u.current=!0),u.current&&(a?I:h)()},[a,I,h]);const _=D(()=>{var m;return(m=o?p:null)===null||m===void 0||m(),E});t.useEffect(_,[_]);const w=t.useMemo(()=>({fullscreen:a,disabled:i,enter:p,exit:E}),[a,i,p,E]);return t.useImperativeHandle(l,()=>w,[w]),t.createElement("div",{ref:r,className:$(F(oe),F($e))},t.createElement(it.Provider,{value:w},s))}const In=V("EnterFullscreen",t.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})),_n=V("ExitFullscreen",t.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}));function kn(){var e;const{fullscreen:n,disabled:s,enter:o,exit:l}=Sn(),{render:r}=Z();return s?null:r.buttonFullscreen?t.createElement(t.Fragment,null,(e=r.buttonFullscreen)===null||e===void 0?void 0:e.call(r,{fullscreen:n,disabled:s,enter:o,exit:l})):t.createElement(re,{disabled:s,label:n?"Exit Fullscreen":"Enter Fullscreen",icon:n?_n:In,renderIcon:n?r.iconExitFullscreen:r.iconEnterFullscreen,onClick:n?l:o})}function De({augment:e,contains:n,addParent:s}){e(({fullscreen:o,toolbar:l,...r})=>({toolbar:le(l,oe,t.createElement(kn,null)),fullscreen:lt(o),...r})),s(n(se)?se:Ke,ae(oe,yn))}const W={ref:null,position:"bottom",width:120,height:80,border:1,borderRadius:4,padding:4,gap:16,imageFit:"contain",vignette:!0,hidden:!1,showToggle:!1},Ce=e=>({...W,...e});function at(){const{thumbnails:e}=Z();return Ce(e)}const G=e=>Je(se,e),N=e=>G(Je("thumbnail",e)),Mn=V("VideoThumbnail",t.createElement("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})),Fn=V("UnknownThumbnail",t.createElement("path",{d:"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"}));function Tn({slide:e,render:n,rect:s,imageFit:o}){var l;const r=(l=n.thumbnail)===null||l===void 0?void 0:l.call(n,{slide:e,render:n,rect:s,imageFit:o});if(r)return r;const i={render:n,rect:s,imageFit:o};if(e.thumbnail)return t.createElement(J,{slide:{src:e.thumbnail},...i});if(ie(e))return t.createElement(J,{slide:e,...i});const c=F(N(Ht));return e.type==="video"?t.createElement(t.Fragment,null,e.poster&&t.createElement(J,{slide:{src:e.poster},...i}),t.createElement(Mn,{className:c})):t.createElement(Fn,{className:c})}const Pn=de("active"),fe=de("fadein"),be=de("fadeout"),Ln=de("placeholder"),Ze="delay",ze="duration";function Rn({slide:e,onClick:n,active:s,fadeIn:o,fadeOut:l,placeholder:r,onLoseFocus:i}){const c=t.useRef(null),{render:a,styles:d}=Z(),{getOwnerDocument:u}=pe(),{width:v,height:b,imageFit:p}=at(),E={width:v,height:b},I=D(i);return t.useEffect(()=>{l&&u().activeElement===c.current&&I()},[l,I,u]),t.createElement("button",{ref:c,type:"button",className:$(F(ne),F(N()),s&&F(N(Pn())),o&&F(N(fe())),l&&F(N(be())),r&&F(N(Ln()))),style:{...o?{[A(N(fe(ze)))]:`${o.duration}ms`,[A(N(fe(Ze)))]:`${o.delay}ms`}:null,...l?{[A(N(be(ze)))]:`${l.duration}ms`,[A(N(be(Ze)))]:`${l.delay}ms`}:null,...d.thumbnail},onClick:n},e&&Tn({slide:e,render:a,rect:E,imageFit:p}))}function Oe(e){return["top","bottom"].includes(e)}function Ae(e,n){return n+2*(e.border+e.padding)+e.gap}function Nn(e){const{thumbnail:n,poster:s}=e||{thumbnail:"placeholder"};return typeof n=="string"&&n||typeof s=="string"&&s||e&&Ot(e)||void 0}function Ve({visible:e,containerRef:n}){const s=t.useRef(null),o=Tt(),{publish:l,subscribe:r}=ge(),{carousel:i,styles:c}=Z(),{slides:a,globalIndex:d,animation:u}=q(),{registerSensors:v,subscribeSensors:b}=Pt();Lt(b);const p=at(),{position:E,width:I,height:h,border:_,borderStyle:w,borderColor:m,borderRadius:S,padding:y,gap:k,vignette:z}=p,O=(u==null?void 0:u.duration)||0,C=O>0&&(u==null?void 0:u.increment)||0,{prepareAnimation:P}=Rt(s,g=>({keyframes:Oe(E)?[{transform:`translateX(${(o?-1:1)*Ae(p,I)*C+g}px)`},{transform:"translateX(0)"}]:[{transform:`translateY(${Ae(p,h)*C+g}px)`},{transform:"translateY(0)"}],duration:O,easing:u==null?void 0:u.easing})),Y=D(()=>{let g=0;if(n.current&&s.current){const x=n.current.getBoundingClientRect(),M=s.current.getBoundingClientRect();g=Oe(E)?M.left-x.left-(x.width-M.width)/2:M.top-x.top-(x.height-M.height)/2}P(g)});t.useEffect(()=>ue(r(Nt,Y)),[r,Y]);const L=Dt(i,a),H=[];if(Zt(a))for(let g=d-L-Math.abs(C);g<=d+L+Math.abs(C);g+=1){const M=i.finite&&(g<0||g>a.length-1)||C<0&&g<d-L||C>0&&g>d+L?null:zt(a,g),R=[`${g}`,Nn(M)].filter(Boolean).join("|");H.push({key:R,index:g,slide:M})}const f=g=>()=>{g>d?l(At,{count:g-d}):g<d&&l(Vt,{count:d-g})};return t.createElement("div",{className:$(F(G("container")),F(ne)),style:{...e?null:{display:"none"},...I!==W.width?{[A(N("width"))]:`${I}px`}:null,...h!==W.height?{[A(N("height"))]:`${h}px`}:null,..._!==W.border?{[A(N("border"))]:`${_}px`}:null,...w?{[A(N("border_style"))]:w}:null,...m?{[A(N("border_color"))]:m}:null,...S!==W.borderRadius?{[A(N("border_radius"))]:`${S}px`}:null,...y!==W.padding?{[A(N("padding"))]:`${y}px`}:null,...k!==W.gap?{[A(N("gap"))]:`${k}px`}:null,...c.thumbnailsContainer}},t.createElement("nav",{ref:s,style:c.thumbnailsTrack,className:$(F(G("track")),F(ne)),tabIndex:-1,...v},H.map(({key:g,index:x,slide:M})=>{const R=O/Math.abs(C||1),B=C>0&&x>d+L-C&&x<=d+L||C<0&&x<d-L-C&&x>=d-L?{duration:R,delay:((C>0?x-(d+L-C):d-L-C-x)-1)*R}:void 0,X=C>0&&x<d-L||C<0&&x>d+L?{duration:R,delay:(C>0?C-(d-L-x):-C-(x-(d+L)))*R}:void 0;return t.createElement(Rn,{key:g,slide:M,active:x===d,fadeIn:B,fadeOut:X,placeholder:!M,onClick:f(x),onLoseFocus:()=>{var U;return(U=s.current)===null||U===void 0?void 0:U.focus()}})})),z&&t.createElement("div",{className:F(G("vignette"))}))}const ct=t.createContext(null),Dn=ce("useThumbnails","ThumbnailsContext",ct);function Zn({children:e,...n}){const{ref:s,position:o,hidden:l}=Ce(n.thumbnails),[r,i]=t.useState(!l),c=t.useRef(null),a=t.useMemo(()=>({visible:r,show:()=>i(!0),hide:()=>i(!1)}),[r]);return t.useImperativeHandle(s,()=>a,[a]),t.createElement(Ft,{...n},t.createElement(ct.Provider,{value:a},t.createElement("div",{ref:c,className:$(F(G()),F(G(`${o}`)))},["start","top"].includes(o)&&t.createElement(Ve,{containerRef:c,visible:r}),t.createElement("div",{className:F(G("wrapper"))},e),["end","bottom"].includes(o)&&t.createElement(Ve,{containerRef:c,visible:r}))))}const ut=()=>t.createElement(t.Fragment,null,t.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),t.createElement("path",{d:"M5 14h4v3h-4zM10 14h4v3h-4zM15 14h4v3h-4z"})),zn=V("ThumbnailsVisible",ut()),On=qe("ThumbnailsHidden",ut());function An(){const{visible:e,show:n,hide:s}=Dn(),{render:o}=Z();return o.buttonThumbnails?t.createElement(t.Fragment,null,o.buttonThumbnails({visible:e,show:n,hide:s})):t.createElement(re,{label:e?"Hide thumbnails":"Show thumbnails",icon:e?zn:On,renderIcon:e?o.iconThumbnailsVisible:o.iconThumbnailsHidden,onClick:e?s:n})}function He({augment:e,contains:n,append:s,addParent:o}){e(({thumbnails:r,toolbar:i,...c})=>{const a=Ce(r);return{toolbar:le(i,se,a.showToggle?t.createElement(An,null):null),thumbnails:a,...c}});const l=ae(se,Zn);n(oe)?s(oe,l):o(Ke,l)}const Vn={root:"mnl__lightbox__root"};function Un({slides:e,disableZoom:n,disableVideo:s,disableTotal:o,disableCaptions:l,disableSlideshow:r,disableThumbnails:i,disableFullscreen:c,onGetCurrentIndex:a,...d}){const u=e?e.length:0;return T.jsx(Bt,{slides:e,animation:{swipe:240},carousel:{finite:u<5},controller:{closeOnBackdropClick:!0},plugins:Hn({disableZoom:n,disableVideo:s,disableCaptions:l,disableSlideshow:r,disableThumbnails:i,disableFullscreen:c}),on:{view:({index:v})=>{a&&a(v)}},toolbar:{buttons:[T.jsx(Bn,{totalItems:u,disableTotal:o},0),"close"]},render:{iconClose:()=>T.jsx(j,{width:24,icon:"carbon:close"}),iconZoomIn:()=>T.jsx(j,{width:24,icon:"carbon:zoom-in"}),iconZoomOut:()=>T.jsx(j,{width:24,icon:"carbon:zoom-out"}),iconSlideshowPlay:()=>T.jsx(j,{width:24,icon:"carbon:play"}),iconSlideshowPause:()=>T.jsx(j,{width:24,icon:"carbon:pause"}),iconPrev:()=>T.jsx(j,{width:32,icon:"carbon:chevron-left"}),iconNext:()=>T.jsx(j,{width:32,icon:"carbon:chevron-right"}),iconExitFullscreen:()=>T.jsx(j,{width:24,icon:"carbon:center-to-fit"}),iconEnterFullscreen:()=>T.jsx(j,{width:24,icon:"carbon:fit-to-screen"})},className:Vn.root,...d})}function Hn({disableZoom:e,disableVideo:n,disableCaptions:s,disableSlideshow:o,disableThumbnails:l,disableFullscreen:r}){let i=[Re,De,Ne,He,Le,Pe];return l&&(i=i.filter(c=>c!==He)),s&&(i=i.filter(c=>c!==Re)),r&&(i=i.filter(c=>c!==De)),o&&(i=i.filter(c=>c!==Ne)),e&&(i=i.filter(c=>c!==Pe)),n&&(i=i.filter(c=>c!==Le)),i}function Bn({totalItems:e,disableTotal:n}){const{currentIndex:s}=q();return n?null:T.jsxs(Be,{component:"span",className:"yarl__button",sx:{typography:"body2",alignItems:"center",display:"inline-flex",justifyContent:"center"},children:[T.jsxs("strong",{children:[" ",s+1," "]})," / ",e]})}function Wn(e){const[n,s]=t.useState(-1),o=t.useCallback(r=>{const i=e.findIndex(c=>c.type==="video"?c.poster===r:c.src===r);s(i)},[e]),l=t.useCallback(()=>{s(-1)},[]);return{selected:n,open:n>=0,onOpen:o,onClose:l,setSelected:s}}export{Xn as C,Un as L,Wn as u};
