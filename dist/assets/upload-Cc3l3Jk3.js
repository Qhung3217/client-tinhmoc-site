import{j as e,B as o,b$ as U,h as m,c0 as k,aw as i,T as z,t as B,I as j,aU as A,ad as g}from"./index-CZQdhxL6.js";import{u as E,M}from"./preview-multi-file-DA87ns5L.js";import{f as S}from"./format-number-BMTKi65b.js";import{f as L}from"./file-thumbnail-DwL3Xnqg.js";function T({...r}){return e.jsxs(o,{sx:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"},...r,children:[e.jsx(U,{hideBackground:!0,sx:{width:200}}),e.jsxs(m,{spacing:1,sx:{textAlign:"center"},children:[e.jsx(o,{sx:{typography:"h6"},children:"Drop or select file"}),e.jsxs(o,{sx:{typography:"body2",color:"text.secondary"},children:["Drop files here or click to",e.jsx(o,{component:"span",sx:{mx:.5,color:"primary.main",textDecoration:"underline"},children:"browse"}),"through your machine."]})]})]})}function $({files:r}){return r.length?e.jsx(k,{variant:"outlined",sx:{py:1,px:2,mt:3,textAlign:"left",borderStyle:"dashed",borderColor:"error.main",bgcolor:t=>i(t.vars.palette.error.mainChannel,.08)},children:r.map(({file:t,errors:n})=>{const{path:l,size:c}=L(t);return e.jsxs(o,{sx:{my:1},children:[e.jsxs(z,{variant:"subtitle2",noWrap:!0,children:[l," - ",c?S(c):""]}),n.map(a=>e.jsxs(o,{component:"span",sx:{typography:"caption"},children:["- ",a.message]},a.code))]},l)})}):null}function H({file:r}){const t=typeof r=="string"?r:r.name,n=typeof r=="string"?r:URL.createObjectURL(r);return e.jsx(o,{sx:{p:1,top:0,left:0,width:1,height:1,position:"absolute"},children:e.jsx(o,{component:"img",alt:t,src:n,sx:{width:1,height:1,borderRadius:1,objectFit:"cover"}})})}function N({sx:r,...t}){return e.jsx(B,{size:"small",sx:{top:16,right:16,zIndex:9,position:"absolute",color:n=>i(n.vars.palette.common.whiteChannel,.8),bgcolor:n=>i(n.vars.palette.grey["900Channel"],.72),"&:hover":{bgcolor:n=>i(n.vars.palette.grey["900Channel"],.48)},...r},...t,children:e.jsx(j,{icon:"mingcute:close-line",width:18})})}function J({sx:r,value:t,error:n,disabled:l,onDelete:c,onUpload:a,onRemove:y,thumbnail:f,helperText:x,onRemoveAll:p,multiple:d=!1,...v}){const{getRootProps:b,getInputProps:w,isDragActive:C,isDragReject:D,fileRejections:R}=E({multiple:d,disabled:l,...v}),u=Array.isArray(t)&&d,h=!u&&!!t,F=u&&!!t.length,I=D||!!n,P=F&&e.jsxs(e.Fragment,{children:[e.jsx(M,{files:t,thumbnail:f,onRemove:y,sx:{my:3}}),(p||a)&&e.jsxs(m,{direction:"row",justifyContent:"flex-end",spacing:1.5,children:[p&&e.jsx(g,{color:"inherit",variant:"outlined",size:"small",onClick:p,children:"Remove all"}),a&&e.jsx(g,{size:"small",variant:"contained",onClick:a,startIcon:e.jsx(j,{icon:"eva:cloud-upload-fill"}),children:"Upload"})]})]});return e.jsxs(o,{sx:{width:1,position:"relative",...r},children:[e.jsxs(o,{...b(),sx:{p:5,outline:"none",borderRadius:1,cursor:"pointer",overflow:"hidden",position:"relative",bgcolor:s=>i(s.vars.palette.grey["500Channel"],.08),border:s=>`1px dashed ${i(s.vars.palette.grey["500Channel"],.2)}`,transition:s=>s.transitions.create(["opacity","padding"]),"&:hover":{opacity:.72},...C&&{opacity:.72},...l&&{opacity:.48,pointerEvents:"none"},...I&&{color:"error.main",borderColor:"error.main",bgcolor:s=>i(s.vars.palette.error.mainChannel,.08)},...h&&{padding:"28% 0"}},children:[e.jsx("input",{...w()}),h?e.jsx(H,{file:t}):e.jsx(T,{})]}),h&&e.jsx(N,{onClick:c}),x&&e.jsx(A,{error:!!n,sx:{px:2},children:x}),e.jsx($,{files:R}),P]})}export{$ as R,J as U};
