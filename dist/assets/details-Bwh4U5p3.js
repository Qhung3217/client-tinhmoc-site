import{j as n,t as h,I as o,h as i,d8 as T,T as b,B as e,ad as g,ap as f,cz as S,aX as C,q as k,dc as m,cw as v,aZ as D,c0 as O,r as w,cY as P,w as L,ed as N,eb as B,H as F,l as E}from"./index-u4c5uTy0.js";import{u as A}from"./use-params-B19QLcHO.js";import"./order-list-view-BoQoPTff.js";import{C as j}from"./CardHeader-CNvgM0Ym.js";import{L as H}from"./Link-BJNZ9OZB.js";import{C as y}from"./Card-Ro7Utuy1.js";import{a as p}from"./format-number-big90whk.js";import{L as R}from"./ListItemText-DI6-3wIs.js";import{L as $}from"./label-CW2e8lfB.js";import{M as G}from"./MenuItem-CQqSdt0g.js";import{T as z,t as M,a as U,b as _,c as q,d as W,e as V}from"./TimelineItem-CmaKajII.js";import{G as u}from"./Grid2-D3oxcX0N.js";import"./confirm-dialog-BRBREL0G.js";import"./dialogTitleClasses-Cq2WiJNn.js";import"./DialogTitle-BLfIj25N.js";import"./DialogContent-BARz1C5J.js";import"./DialogActions-CqCNwb2o.js";import"./custom-breadcrumbs-IydSAGRK.js";import"./table-pagination-custom-CHjyCPXf.js";import"./Checkbox-BP7c1We-.js";import"./TablePagination-CrI79E3J.js";import"./KeyboardArrowRight-C4NP_Fdf.js";import"./LastPage-Dmj1gKFF.js";import"./TableCell-D3_p3tAp.js";import"./FormControlLabel-ClSICk_D.js";import"./table-no-data-D08Pz_mP.js";import"./empty-content-CuZPPhHf.js";import"./TableRow-Dqi1nYvv.js";import"./table-empty-rows-DjSGYGmn.js";import"./table-head-custom-CesICh--.js";import"./DatePicker-Dt-kgJxG.js";import"./index-CcA_k5fi.js";import"./visuallyHidden-Dan1xhjv.js";import"./InputAdornment-e-Ol_iUA.js";import"./ListItem-sdN4-Rey.js";import"./listItemButtonClasses-BTeIgqK3.js";import"./filters-result-ChRF1hn_.js";import"./Tabs-Cnx4LrgW.js";import"./listItemTextClasses-BH_LSGUS.js";function X({customer:s,delivery:t,payment:r,shippingAddress:a}){const x=n.jsxs(n.Fragment,{children:[n.jsx(j,{title:"Customer info",action:n.jsx(h,{children:n.jsx(o,{icon:"solar:pen-bold"})})}),n.jsxs(i,{direction:"row",sx:{p:3},children:[n.jsx(T,{alt:s==null?void 0:s.name,src:s==null?void 0:s.avatarUrl,sx:{width:48,height:48,mr:2}}),n.jsxs(i,{spacing:.5,alignItems:"flex-start",sx:{typography:"body2"},children:[n.jsx(b,{variant:"subtitle2",children:s==null?void 0:s.name}),n.jsx(e,{sx:{color:"text.secondary"},children:s==null?void 0:s.email}),n.jsxs("div",{children:["IP address:",n.jsx(e,{component:"span",sx:{color:"text.secondary",ml:.25},children:s==null?void 0:s.ipAddress})]}),n.jsx(g,{size:"small",color:"error",startIcon:n.jsx(o,{icon:"mingcute:add-line"}),sx:{mt:1},children:"Add to Blacklist"})]})]})]}),d=n.jsxs(n.Fragment,{children:[n.jsx(j,{title:"Delivery",action:n.jsx(h,{children:n.jsx(o,{icon:"solar:pen-bold"})})}),n.jsxs(i,{spacing:1.5,sx:{p:3,typography:"body2"},children:[n.jsxs(i,{direction:"row",alignItems:"center",children:[n.jsx(e,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Ship by"}),t==null?void 0:t.shipBy]}),n.jsxs(i,{direction:"row",alignItems:"center",children:[n.jsx(e,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Speedy"}),t==null?void 0:t.speedy]}),n.jsxs(i,{direction:"row",alignItems:"center",children:[n.jsx(e,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Tracking No."}),n.jsx(H,{underline:"always",color:"inherit",children:t==null?void 0:t.trackingNumber})]})]})]}),c=n.jsxs(n.Fragment,{children:[n.jsx(j,{title:"Shipping",action:n.jsx(h,{children:n.jsx(o,{icon:"solar:pen-bold"})})}),n.jsxs(i,{spacing:1.5,sx:{p:3,typography:"body2"},children:[n.jsxs(i,{direction:"row",children:[n.jsx(e,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Address"}),a==null?void 0:a.fullAddress]}),n.jsxs(i,{direction:"row",children:[n.jsx(e,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Phone number"}),a==null?void 0:a.phoneNumber]})]})]}),l=n.jsxs(n.Fragment,{children:[n.jsx(j,{title:"Payment",action:n.jsx(h,{children:n.jsx(o,{icon:"solar:pen-bold"})})}),n.jsxs(e,{display:"flex",alignItems:"center",justifyContent:"flex-end",sx:{p:3,gap:.5,typography:"body2"},children:[r==null?void 0:r.cardNumber,n.jsx(o,{icon:"logos:mastercard",width:24})]})]});return n.jsxs(y,{children:[x,n.jsx(f,{sx:{borderStyle:"dashed"}}),d,n.jsx(f,{sx:{borderStyle:"dashed"}}),c,n.jsx(f,{sx:{borderStyle:"dashed"}}),l]})}function Y({taxes:s,shipping:t,discount:r,subtotal:a,items:x=[],totalAmount:d}){const c=n.jsxs(i,{spacing:2,alignItems:"flex-end",sx:{p:3,textAlign:"right",typography:"body2"},children:[n.jsxs(i,{direction:"row",children:[n.jsx(e,{sx:{color:"text.secondary"},children:"Subtotal"}),n.jsx(e,{sx:{width:160,typography:"subtitle2"},children:p(a)||"-"})]}),n.jsxs(i,{direction:"row",children:[n.jsx(e,{sx:{color:"text.secondary"},children:"Shipping"}),n.jsx(e,{sx:{width:160,...t&&{color:"error.main"}},children:t?`- ${p(t)}`:"-"})]}),n.jsxs(i,{direction:"row",children:[n.jsx(e,{sx:{color:"text.secondary"},children:"Discount"}),n.jsx(e,{sx:{width:160,...r&&{color:"error.main"}},children:r?`- ${p(r)}`:"-"})]}),n.jsxs(i,{direction:"row",children:[n.jsx(e,{sx:{color:"text.secondary"},children:"Taxes"}),n.jsx(e,{sx:{width:160},children:s?p(s):"-"})]}),n.jsxs(i,{direction:"row",sx:{typography:"subtitle1"},children:[n.jsx("div",{children:"Total"}),n.jsx(e,{sx:{width:160},children:p(d)||"-"})]})]});return n.jsxs(y,{children:[n.jsx(j,{title:"Details",action:n.jsx(h,{children:n.jsx(o,{icon:"solar:pen-bold"})})}),n.jsx(S,{children:x.map(l=>n.jsxs(i,{direction:"row",alignItems:"center",sx:{p:3,minWidth:640,borderBottom:I=>`dashed 2px ${I.vars.palette.background.neutral}`},children:[n.jsx(T,{src:l.coverUrl,variant:"rounded",sx:{width:48,height:48,mr:2}}),n.jsx(R,{primary:l.name,secondary:l.sku,primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{component:"span",color:"text.disabled",mt:.5}}),n.jsxs(e,{sx:{typography:"body2"},children:["x",l.quantity]}),n.jsx(e,{sx:{width:110,textAlign:"right",typography:"subtitle2"},children:p(l.price)})]},l.id))}),c]})}function Z({status:s,backLink:t,createdAt:r,orderNumber:a,statusOptions:x,onChangeStatus:d}){const c=C();return n.jsxs(n.Fragment,{children:[n.jsxs(i,{spacing:3,direction:{xs:"column",md:"row"},sx:{mb:{xs:3,md:5}},children:[n.jsxs(i,{spacing:1,direction:"row",alignItems:"flex-start",children:[n.jsx(h,{component:k,href:t,children:n.jsx(o,{icon:"eva:arrow-ios-back-fill"})}),n.jsxs(i,{spacing:.5,children:[n.jsxs(i,{spacing:1,direction:"row",alignItems:"center",children:[n.jsxs(b,{variant:"h4",children:[" Order ",a," "]}),n.jsx($,{variant:"soft",color:s==="completed"&&"success"||s==="pending"&&"warning"||s==="cancelled"&&"error"||"default",children:s})]}),n.jsx(b,{variant:"body2",sx:{color:"text.disabled"},children:m(r)})]})]}),n.jsxs(i,{flexGrow:1,spacing:1.5,direction:"row",alignItems:"center",justifyContent:"flex-end",children:[n.jsx(g,{color:"inherit",variant:"outlined",endIcon:n.jsx(o,{icon:"eva:arrow-ios-downward-fill"}),onClick:c.onOpen,sx:{textTransform:"capitalize"},children:s}),n.jsx(g,{color:"inherit",variant:"outlined",startIcon:n.jsx(o,{icon:"solar:printer-minimalistic-bold"}),children:"Print"}),n.jsx(g,{color:"inherit",variant:"contained",startIcon:n.jsx(o,{icon:"solar:pen-bold"}),children:"Edit"})]})]}),n.jsx(v,{open:c.open,anchorEl:c.anchorEl,onClose:c.onClose,slotProps:{arrow:{placement:"top-right"}},children:n.jsx(D,{children:x.map(l=>n.jsx(G,{selected:l.value===s,onClick:()=>{c.onClose(),d(l.value)},children:l.label},l.value))})})]})}function J({history:s}){const t=n.jsxs(O,{variant:"outlined",sx:{p:2.5,gap:2,minWidth:260,flexShrink:0,borderRadius:2,display:"flex",typography:"body2",borderStyle:"dashed",flexDirection:"column"},children:[n.jsxs(i,{spacing:.5,children:[n.jsx(e,{sx:{color:"text.disabled"},children:"Order time"}),m(s==null?void 0:s.orderTime)]}),n.jsxs(i,{spacing:.5,children:[n.jsx(e,{sx:{color:"text.disabled"},children:"Payment time"}),m(s==null?void 0:s.orderTime)]}),n.jsxs(i,{spacing:.5,children:[n.jsx(e,{sx:{color:"text.disabled"},children:"Delivery time for the carrier"}),m(s==null?void 0:s.orderTime)]}),n.jsxs(i,{spacing:.5,children:[n.jsx(e,{sx:{color:"text.disabled"},children:"Completion time"}),m(s==null?void 0:s.orderTime)]})]}),r=n.jsx(z,{sx:{p:0,m:0,[`& .${M.root}:before`]:{flex:0,padding:0}},children:s==null?void 0:s.timeline.map((a,x)=>{const d=x===0,c=x===s.timeline.length-1;return n.jsxs(U,{children:[n.jsxs(_,{children:[n.jsx(q,{color:d&&"primary"||"grey"}),c?null:n.jsx(W,{})]}),n.jsxs(V,{children:[n.jsx(b,{variant:"subtitle2",children:a.title}),n.jsx(e,{sx:{color:"text.disabled",typography:"caption",mt:.5},children:m(a.time)})]})]},a.title)})});return n.jsxs(y,{children:[n.jsx(j,{title:"History"}),n.jsxs(i,{spacing:3,alignItems:{md:"flex-start"},direction:{xs:"column-reverse",md:"row"},sx:{p:3},children:[r,t]})]})}function K({order:s}){const[t,r]=w.useState(s==null?void 0:s.status),a=w.useCallback(x=>{r(x)},[]);return n.jsxs(P,{children:[n.jsx(Z,{backLink:L.dashboard.order.root,orderNumber:s==null?void 0:s.orderNumber,createdAt:s==null?void 0:s.createdAt,status:t,onChangeStatus:a,statusOptions:N}),n.jsxs(u,{container:!0,spacing:3,children:[n.jsx(u,{xs:12,md:8,children:n.jsxs(i,{spacing:3,direction:{xs:"column-reverse",md:"column"},children:[n.jsx(Y,{items:s==null?void 0:s.items,taxes:s==null?void 0:s.taxes,shipping:s==null?void 0:s.shipping,discount:s==null?void 0:s.discount,subtotal:s==null?void 0:s.subtotal,totalAmount:s==null?void 0:s.totalAmount}),n.jsx(J,{history:s==null?void 0:s.history})]})}),n.jsx(u,{xs:12,md:4,children:n.jsx(X,{customer:s==null?void 0:s.customer,delivery:s==null?void 0:s.delivery,payment:s==null?void 0:s.payment,shippingAddress:s==null?void 0:s.shippingAddress})})]})]})}const Q={title:`Order details | Dashboard - ${E.site.name}`};function Gn(){const{id:s=""}=A(),t=B.find(r=>r.id===s);return n.jsxs(n.Fragment,{children:[n.jsx(F,{children:n.jsxs("title",{children:[" ",Q.title]})}),n.jsx(K,{order:t})]})}export{Gn as default};
